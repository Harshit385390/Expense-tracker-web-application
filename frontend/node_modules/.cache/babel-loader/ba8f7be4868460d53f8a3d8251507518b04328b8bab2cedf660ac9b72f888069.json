{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\harsh\\\\Desktop\\\\expense\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { getFirestore, doc, collection, query, onSnapshot, addDoc, deleteDoc, orderBy } from 'firebase/firestore';\nimport { ToastContainer, toast } from 'react-toastify';\n\n// --- THEME CONSTANTS (Dark Mode Only) ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BG_COLOR = 'bg-gray-900';\nconst CARD_BG = 'bg-gray-800';\nconst TEXT_COLOR = 'text-gray-50';\nconst ACCENT_COLOR = 'text-indigo-400';\nconst SHADOW_STYLE = 'shadow-2xl shadow-indigo-900/50';\n\n// Inject Toastify CSS (Mandatory for single-file deployment)\nconst ToastifyGlobalStyle = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  dangerouslySetInnerHTML: {\n    __html: `\n        /* Toastify styling for a modern dark look */\n        .Toastify__toast-container { z-index: 9999; }\n        .Toastify__toast--success { background: #10b981; color: white; border-radius: 0.5rem; }\n        .Toastify__toast--error { background: #ef4444; color: white; border-radius: 0.5rem; }\n        .Toastify__toast-body { font-family: 'Inter', sans-serif; }\n    `\n  }\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 5\n}, this);\n_c = ToastifyGlobalStyle;\nconst handleSuccess = msg => {\n  toast.success(msg, {\n    position: \"bottom-right\",\n    autoClose: 3000,\n    theme: \"dark\"\n  });\n};\nconst handleError = msg => {\n  toast.error(msg, {\n    position: \"bottom-right\",\n    autoClose: 4000,\n    theme: \"dark\"\n  });\n};\n\n// Utility function to format date to YYYY-MM-DD for input fields\nconst formatDateForInput = date => {\n  const d = new Date(date);\n  let month = '' + (d.getMonth() + 1);\n  let day = '' + d.getDate();\n  const year = d.getFullYear();\n  if (month.length < 2) month = '0' + month;\n  if (day.length < 2) day = '0' + day;\n  return [year, month, day].join('-');\n};\n\n// Utility to get month name from YYYY-MM\nconst getMonthName = yyyymm => {\n  if (!yyyymm) return '';\n  const [year, month] = yyyymm.split('-');\n  const date = new Date(year, month - 1, 1);\n  return date.toLocaleString('default', {\n    month: 'long',\n    year: 'numeric'\n  });\n};\n\n// --- Mock Icon Component (Lucide Icons) ---\nconst Icon = ({\n  name,\n  className = 'w-5 h-5'\n}) => {\n  let svgPath;\n  switch (name) {\n    case 'dashboard':\n      svgPath = /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 37\n      }, this);\n      break;\n    case 'income':\n      svgPath = /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M12 2v20m5-5-5 5-5-5m5-15 5 5-5-5Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 34\n      }, this);\n      break;\n    case 'expense':\n      svgPath = /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M12 2v20m5-5-5 5-5-5m5-15 5 5-5-5Z\",\n        transform: \"rotate(180 12 12)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 35\n      }, this);\n      break;\n    case 'transactions':\n      svgPath = /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 40\n      }, this);\n      break;\n    case 'trash':\n      svgPath = /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 33\n      }, this);\n      break;\n    case 'logout':\n      svgPath = /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 34\n      }, this);\n      break;\n    case 'search':\n      svgPath = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: \"11\",\n          cy: \"11\",\n          r: \"8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"m21 21-4.3-4.3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 68\n        }, this)]\n      }, void 0, true);\n      break;\n    case 'filter':\n      svgPath = /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M12 3v18M15 15l-3 3-3-3M9 6l3-3 3 3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 34\n      }, this);\n      break;\n    default:\n      svgPath = /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 28\n      }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: className,\n    children: svgPath\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Component: Search Bar ---\n_c2 = Icon;\nconst SearchBarComponent = ({\n  value,\n  onChange\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `relative w-full`,\n  children: [/*#__PURE__*/_jsxDEV(Icon, {\n    name: \"search\",\n    className: `w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n    type: \"text\",\n    placeholder: \"Filter by description (e.g., 'Coffee', 'Rent')...\",\n    value: value,\n    onChange: onChange,\n    className: \"w-full p-3 pl-10 rounded-xl bg-gray-700 text-gray-50 border border-gray-600 focus:border-indigo-500 focus:ring-indigo-500 placeholder-gray-400 transition\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 80,\n  columnNumber: 5\n}, this);\n\n// --- Component: Month Selector (NEW) ---\n_c3 = SearchBarComponent;\nconst MonthSelector = ({\n  availableMonths,\n  selectedMonth,\n  onMonthChange\n}) => {\n  const inputClasses = \"appearance-none w-full p-3 pl-4 border border-gray-600 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 bg-gray-700 text-gray-50 transition cursor-pointer\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full\",\n    children: [/*#__PURE__*/_jsxDEV(Icon, {\n      name: \"filter\",\n      className: `w-5 h-5 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: selectedMonth,\n      onChange: e => onMonthChange(e.target.value),\n      className: inputClasses,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"All Months\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), availableMonths.map(monthKey => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: monthKey,\n        children: getMonthName(monthKey)\n      }, monthKey, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Component: Monthly Flow Chart (NEW) ---\n_c4 = MonthSelector;\nconst MonthlyFlowChart = ({\n  monthlyTotals,\n  selectedMonth\n}) => {\n  const {\n    income,\n    expense\n  } = monthlyTotals;\n  const total = income + expense;\n  const balance = income - expense;\n  const balanceColor = balance >= 0 ? 'text-green-400' : 'text-red-400';\n  const monthName = getMonthName(selectedMonth);\n\n  // Calculate percentages for visualization (max 100%)\n  const maxVal = Math.max(income, expense, 1); // Avoid division by zero\n  const incomePercent = income / maxVal * 100;\n  const expensePercent = expense / maxVal * 100;\n  const flowData = [{\n    label: 'Income',\n    value: income,\n    color: 'bg-green-600',\n    percent: incomePercent\n  }, {\n    label: 'Expense',\n    value: expense,\n    color: 'bg-red-600',\n    percent: expensePercent\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `mb-8 p-6 ${CARD_BG} rounded-xl ${SHADOW_STYLE} border border-indigo-700/50`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-2xl font-bold mb-4 ${ACCENT_COLOR}`,\n      children: [\"Financial Flow for \", monthName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 rounded-lg bg-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-400 font-medium\",\n          children: \"Total Income\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-green-500\",\n          children: [\"$\", income.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 rounded-lg bg-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-400 font-medium\",\n          children: \"Total Expense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-red-500\",\n          children: [\"$\", expense.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 rounded-lg bg-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-400 font-medium\",\n          children: \"Net Balance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-2xl font-bold ${balanceColor}`,\n          children: [\"$\", balance.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4 pt-4\",\n      children: flowData.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-1 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-gray-300\",\n            children: item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-mono text-gray-300\",\n            children: [\"$\", item.value.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-3 rounded-full bg-gray-700 overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: `${item.percent}%`\n            },\n            className: `h-full ${item.color} rounded-full transition-all duration-700 ease-out`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }, this)]\n      }, item.label, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Component: Sidebar Navigation ---\n_c5 = MonthlyFlowChart;\nconst Sidebar = ({\n  currentPage,\n  setCurrentPage,\n  userId,\n  handleLogout\n}) => {\n  const navItems = [{\n    name: 'Dashboard',\n    page: 'DASHBOARD',\n    icon: 'dashboard'\n  }, {\n    name: 'Income',\n    page: 'INCOME',\n    icon: 'income'\n  }, {\n    name: 'Expense',\n    page: 'EXPENSE',\n    icon: 'expense'\n  }, {\n    name: 'Transactions',\n    page: 'TRANSACTIONS',\n    icon: 'transactions'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `hidden lg:flex h-full min-h-screen w-64 ${CARD_BG} ${TEXT_COLOR} shadow-inner shadow-gray-700/50 flex-col p-4 border-r border-gray-700 z-10 sticky top-0`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `text-3xl font-extrabold ${ACCENT_COLOR} mb-8 p-2 tracking-wide border-b border-indigo-700 pb-4`,\n      children: [\"BudgetFlow \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs text-red-500 block font-normal mt-1\",\n        children: \"DARK EDITION\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex flex-col items-start mb-10 p-2 border-b border-gray-700 pb-4`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm font-semibold text-gray-400 mb-1\",\n        children: \"Authenticated User ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-50 font-mono truncate w-full\",\n        title: userId,\n        children: userId ? userId : 'Loading...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"flex-grow space-y-2\",\n      children: navItems.map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentPage(item.page),\n        className: `flex items-center w-full p-3 rounded-xl font-semibold transition duration-200 ${currentPage === item.page ? 'bg-indigo-600 text-white shadow-lg ' + SHADOW_STYLE : `text-gray-300 hover:bg-gray-700/50 hover:${ACCENT_COLOR}`}`,\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          name: item.icon,\n          className: \"w-5 h-5 mr-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 25\n        }, this), item.name]\n      }, item.name, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      className: \"flex items-center w-full p-3 mt-4 rounded-xl text-red-400 hover:bg-red-900 border border-red-900 font-semibold transition duration-200 shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        name: \"logout\",\n        className: \"w-5 h-5 mr-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this), \"Sign Out\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Component: Transaction Form ---\n_c6 = Sidebar;\nconst TransactionForm = ({\n  addTransaction\n}) => {\n  _s();\n  const [text, setText] = useState('');\n  const [amount, setAmount] = useState('');\n  const [type, setType] = useState('Expense');\n  const [date, setDate] = useState(formatDateForInput(new Date()));\n  const inputClasses = \"w-full p-3 border border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 bg-gray-700 text-gray-50 placeholder-gray-400 transition\";\n  const labelClasses = \"text-gray-300\";\n  const onSubmit = e => {\n    e.preventDefault();\n    const amountVal = parseFloat(amount);\n    if (!text || amountVal === '' || isNaN(amountVal) || amountVal <= 0 || !date) {\n      handleError(\"Please enter a description, a positive amount, and a valid date.\");\n      return;\n    }\n    const signedAmount = type === 'Expense' ? -Math.abs(amountVal) : Math.abs(amountVal);\n    const selectedDate = new Date(date);\n    const newTransaction = {\n      text,\n      amount: signedAmount,\n      type,\n      date: selectedDate\n    };\n    addTransaction(newTransaction);\n    setText('');\n    setAmount('');\n    setDate(formatDateForInput(new Date()));\n  };\n  const buttonStyle = type === 'Expense' ? 'bg-red-700 hover:bg-red-600 shadow-red-900/40' : 'bg-green-700 hover:bg-green-600 shadow-green-900/40';\n  const typeButtonStyle = buttonType => buttonType === type ? buttonType === 'Expense' ? 'bg-red-600 text-white' : 'bg-green-600 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600';\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: onSubmit,\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: `block text-sm font-medium mb-1 ${labelClasses}`,\n        children: \"Type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setType('Expense'),\n          className: `flex-1 py-2 px-4 rounded-lg font-semibold transition shadow-md ${typeButtonStyle('Expense')}`,\n          children: \"Expense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setType('Income'),\n          className: `flex-1 py-2 px-4 rounded-lg font-semibold transition shadow-md ${typeButtonStyle('Income')}`,\n          children: \"Income\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"date\",\n        className: `block text-sm font-medium mb-1 ${labelClasses}`,\n        children: \"Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        id: \"date\",\n        value: date,\n        onChange: e => setDate(e.target.value),\n        className: inputClasses,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"text\",\n        className: `block text-sm font-medium mb-1 ${labelClasses}`,\n        children: \"Description (Category)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"text\",\n        value: text,\n        onChange: e => setText(e.target.value),\n        placeholder: \"e.g., Groceries, Salary, Rent\",\n        className: inputClasses,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"amount\",\n        className: `block text-sm font-medium mb-1 ${labelClasses}`,\n        children: \"Amount ($)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        id: \"amount\",\n        value: amount,\n        onChange: e => setAmount(e.target.value),\n        placeholder: \"Enter amount\",\n        className: inputClasses,\n        min: \"0.01\",\n        step: \"0.01\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: `w-full py-3 px-4 ${buttonStyle} text-white font-bold rounded-xl shadow-xl transition duration-300 transform hover:scale-[1.01]`,\n      children: [\"Add \", type]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Component: Transaction Table ---\n_s(TransactionForm, \"eB7vN/0gtQHjJGQ9nsV3p1RAjiU=\");\n_c7 = TransactionForm;\nconst TransactionTable = ({\n  transactions,\n  deleteTransaction\n}) => {\n  if (transactions.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center py-8 text-gray-500\",\n      children: \"No transactions recorded yet or matching your filter.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 16\n    }, this);\n  }\n  const headerClasses = 'bg-gray-700 text-indigo-400 shadow-md';\n  const rowClasses = 'text-gray-300 hover:bg-gray-700 transition duration-150 border-b border-gray-800';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `overflow-x-auto ${CARD_BG} rounded-xl ${SHADOW_STYLE} border border-gray-700`,\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"min-w-full divide-y divide-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: headerClasses,\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider w-1/5\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider w-2/5\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-3 text-right text-xs font-bold uppercase tracking-wider w-1/5\",\n            children: \"Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider w-1/5\",\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        className: \"bg-gray-800 divide-y divide-gray-700\",\n        children: transactions.map(t => {\n          const isIncome = t.amount > 0;\n          const amountColor = isIncome ? 'text-green-400' : 'text-red-400';\n          const amountPrefix = isIncome ? '+' : '';\n\n          // Handle Firestore timestamp vs Date object\n          const dateValue = t.date.seconds ? t.date.seconds * 1000 : new Date(t.date).getTime();\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: rowClasses,\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-4 py-3 whitespace-nowrap text-sm\",\n              children: new Date(dateValue).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-4 py-3 text-sm font-medium\",\n              children: t.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-4 py-3 whitespace-nowrap text-sm text-right font-bold\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: amountColor,\n                children: [amountPrefix, \"$\", Math.abs(t.amount).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-4 py-3 whitespace-nowrap text-center text-sm font-medium\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => deleteTransaction(t.id),\n                className: \"text-red-500 hover:text-red-300 transition duration-150 p-1 rounded-full hover:bg-gray-700\",\n                title: \"Delete Transaction\",\n                children: /*#__PURE__*/_jsxDEV(Icon, {\n                  name: \"trash\",\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 33\n            }, this)]\n          }, t.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 360,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Component: Dashboard Summary ---\n_c8 = TransactionTable;\nconst DashboardSummary = ({\n  incomeAmt,\n  expenseAmt\n}) => {\n  const balance = incomeAmt - expenseAmt;\n  const balanceColor = balance >= 0 ? 'text-green-400' : 'text-red-400';\n  const Card = ({\n    title,\n    amount,\n    color,\n    iconName\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${CARD_BG} p-6 rounded-xl ${SHADOW_STYLE} border border-indigo-700/50 transform hover:scale-[1.01] transition-all duration-300 flex flex-col justify-between`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: `text-lg font-semibold text-gray-400`,\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Icon, {\n        name: iconName,\n        className: `w-6 h-6 ${color}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `text-4xl font-extrabold mt-4 ${color}`,\n      children: [\"$\", amount.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 413,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      title: \"Current Balance\",\n      amount: balance,\n      color: balanceColor,\n      iconName: \"dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      title: \"Total Income\",\n      amount: incomeAmt,\n      color: \"text-green-500\",\n      iconName: \"income\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      title: \"Total Expenses\",\n      amount: expenseAmt,\n      color: \"text-red-500\",\n      iconName: \"expense\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 425,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Main App Component ---\n_c9 = DashboardSummary;\nfunction App() {\n  _s2();\n  // --- State Management ---\n  const [db, setDb] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [currentPage, setCurrentPage] = useState('DASHBOARD');\n  const [allTransactions, setAllTransactions] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedMonth, setSelectedMonth] = useState(''); // NEW: Month filter state (YYYY-MM)\n\n  // --- Firebase Initialization & Auth ---\n  useEffect(() => {\n    // Initialization logic remains the same\n    try {\n      const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n      const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');\n      if (!firebaseConfig.apiKey) {\n        console.error(\"Firebase config is missing API key. Cannot initialize.\");\n        setIsAuthReady(true);\n        setIsLoading(false);\n        return;\n      }\n      const app = initializeApp(firebaseConfig);\n      const firestoreDb = getFirestore(app);\n      const firebaseAuth = getAuth(app);\n      setDb(firestoreDb);\n      const unsubscribe = onAuthStateChanged(firebaseAuth, async user => {\n        if (user) {\n          setUserId(user.uid);\n        } else {\n          const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;\n          try {\n            if (initialAuthToken) {\n              const cred = await signInWithCustomToken(firebaseAuth, initialAuthToken);\n              setUserId(cred.user.uid);\n            } else {\n              const cred = await signInAnonymously(firebaseAuth);\n              setUserId(cred.user.uid);\n            }\n          } catch (error) {\n            console.error(\"Firebase Auth Error:\", error);\n            handleError(\"Failed to authenticate.\");\n          }\n        }\n        setIsAuthReady(true);\n        setIsLoading(false);\n      });\n      return () => unsubscribe();\n    } catch (error) {\n      console.error(\"Firebase Setup Failed:\", error);\n      setIsAuthReady(true);\n      setIsLoading(false);\n    }\n  }, []);\n\n  // --- Firebase Data Fetching (onSnapshot) ---\n  useEffect(() => {\n    // Data fetching logic remains the same\n    if (!db || !userId || !isAuthReady) return;\n    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n    const transactionsRef = collection(db, 'artifacts', appId, 'users', userId, 'transactions');\n    const q = query(transactionsRef, orderBy('date', 'desc'));\n    const unsubscribe = onSnapshot(q, querySnapshot => {\n      const transactionsData = [];\n      querySnapshot.forEach(doc => {\n        const data = doc.data();\n        transactionsData.push({\n          ...data,\n          id: doc.id,\n          type: data.amount > 0 ? 'Income' : 'Expense',\n          date: data.date\n        });\n      });\n      setAllTransactions(transactionsData);\n    }, error => {\n      console.error(\"Error fetching transactions:\", error);\n      handleError(\"Failed to load transactions.\");\n    });\n    return () => unsubscribe();\n  }, [db, userId, isAuthReady]);\n\n  // --- CRUD Operations ---\n  const addTransaction = async newTransaction => {\n    // CRUD logic remains the same\n    if (!db || !userId) return handleError(\"Database not ready.\");\n    try {\n      const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n      const transactionsRef = collection(db, 'artifacts', appId, 'users', userId, 'transactions');\n      await addDoc(transactionsRef, newTransaction);\n      handleSuccess(`Transaction: ${newTransaction.text} added!`);\n    } catch (error) {\n      console.error(\"Error adding document: \", error);\n      handleError(\"Failed to add transaction.\");\n    }\n  };\n  const deleteTransaction = async id => {\n    // CRUD logic remains the same\n    if (!db || !userId) return handleError(\"Database not ready.\");\n    try {\n      const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n      const transactionDocRef = doc(db, 'artifacts', appId, 'users', userId, 'transactions', id);\n      await deleteDoc(transactionDocRef);\n      handleSuccess('Transaction deleted!');\n    } catch (error) {\n      console.error(\"Error deleting document: \", error);\n      handleError(\"Failed to delete transaction.\");\n    }\n  };\n  const handleLogout = () => {\n    const auth = getAuth(db.app);\n    if (auth) signOut(auth);\n  };\n\n  // --- Derived State (Available Months - NEW) ---\n  const availableMonths = useMemo(() => {\n    const months = new Set();\n    allTransactions.forEach(t => {\n      const date = t.date.seconds ? new Date(t.date.seconds * 1000) : new Date(t.date);\n      if (!isNaN(date.getTime())) {\n        // Store as YYYY-MM\n        const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n        months.add(monthKey);\n      }\n    });\n    // Sort by newest month first\n    return Array.from(months).sort().reverse();\n  }, [allTransactions]);\n\n  // --- Derived State (Primary Filtering - MODIFIED) ---\n  const filteredTransactions = useMemo(() => {\n    let list = allTransactions;\n\n    // 1. Filter by Page/Type\n    switch (currentPage) {\n      case 'INCOME':\n        list = list.filter(t => t.amount > 0);\n        break;\n      case 'EXPENSE':\n        list = list.filter(t => t.amount < 0);\n        break;\n    }\n\n    // 2. Filter by Month/Year (applies to ALL pages if selected)\n    if (selectedMonth) {\n      const [filterYear, filterMonth] = selectedMonth.split('-').map(Number);\n      list = list.filter(t => {\n        const date = t.date.seconds ? new Date(t.date.seconds * 1000) : new Date(t.date);\n        const tYear = date.getFullYear();\n        const tMonth = date.getMonth() + 1; // 1-based month\n\n        return tYear === filterYear && tMonth === filterMonth;\n      });\n    }\n\n    // 3. Filter by Search Term (applies to ALL pages/filtered list)\n    if (searchTerm) {\n      const lowerCaseSearch = searchTerm.toLowerCase();\n      list = list.filter(t => t.text.toLowerCase().includes(lowerCaseSearch));\n    }\n    return list;\n  }, [allTransactions, currentPage, searchTerm, selectedMonth]);\n\n  // --- Derived State (Overall Totals for Dashboard) ---\n  const {\n    incomeAmt,\n    expenseAmt\n  } = useMemo(() => {\n    const income = allTransactions.filter(t => t.amount > 0).reduce((acc, t) => acc + t.amount, 0);\n    const exp = allTransactions.filter(t => t.amount < 0).reduce((acc, t) => acc + t.amount, 0);\n    return {\n      incomeAmt: income,\n      expenseAmt: Math.abs(exp)\n    };\n  }, [allTransactions]);\n\n  // --- Derived State (Monthly Aggregation for Chart - NEW) ---\n  const monthlyTotals = useMemo(() => {\n    let monthlyIncome = 0;\n    let monthlyExpense = 0;\n\n    // We use filteredTransactions here, but only aggregate if a month is selected\n    // to avoid incorrect totals on the Income/Expense page views when no month is selected.\n    if (selectedMonth || currentPage === 'TRANSACTIONS') {\n      filteredTransactions.forEach(t => {\n        if (t.amount > 0) {\n          monthlyIncome += t.amount;\n        } else {\n          monthlyExpense += Math.abs(t.amount);\n        }\n      });\n    }\n    return {\n      income: monthlyIncome,\n      expense: monthlyExpense\n    };\n  }, [filteredTransactions, selectedMonth, currentPage]);\n\n  // --- View/Page Content ---\n  const renderPageContent = () => {\n    const titleClasses = `text-4xl font-extrabold mb-8 ${ACCENT_COLOR}`;\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: `flex-grow p-4 sm:p-8 ${BG_COLOR}`,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: titleClasses,\n        children: currentPage === 'DASHBOARD' ? 'Financial Dashboard' : currentPage.charAt(0) + currentPage.slice(1).toLowerCase() + ' History'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 17\n      }, this), (currentPage === 'DASHBOARD' || currentPage === 'EXPENSE' || currentPage === 'INCOME') && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1 space-y-6\",\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            className: `${CARD_BG} p-6 rounded-xl ${SHADOW_STYLE} border border-gray-700`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: `text-xl font-semibold mb-4 ${TEXT_COLOR}`,\n              children: \"Add New Transaction\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TransactionForm, {\n              addTransaction: addTransaction\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 665,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(DashboardSummary, {\n            incomeAmt: incomeAmt,\n            expenseAmt: expenseAmt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 29\n          }, this), currentPage !== 'DASHBOARD' && /*#__PURE__*/_jsxDEV(SearchBarComponent, {\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n            className: `${CARD_BG} p-6 rounded-xl ${SHADOW_STYLE} border border-gray-700`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: `text-xl font-semibold mb-4 ${TEXT_COLOR}`,\n              children: currentPage === 'DASHBOARD' ? 'Recent Activity' : `${currentPage.charAt(0) + currentPage.slice(1).toLowerCase()} History`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TransactionTable, {\n              transactions: filteredTransactions.slice(0, 10),\n              deleteTransaction: deleteTransaction\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 21\n      }, this), currentPage === 'TRANSACTIONS' && /*#__PURE__*/_jsxDEV(\"section\", {\n        className: `${CARD_BG} p-6 rounded-xl ${SHADOW_STYLE} border border-gray-700`,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: `text-xl font-semibold mb-4 ${TEXT_COLOR}`,\n          children: \"All Recorded Transactions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-4 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: /*#__PURE__*/_jsxDEV(SearchBarComponent, {\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full sm:w-64\",\n            children: /*#__PURE__*/_jsxDEV(MonthSelector, {\n              availableMonths: availableMonths,\n              selectedMonth: selectedMonth,\n              onMonthChange: setSelectedMonth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 716,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 715,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 25\n        }, this), selectedMonth && /*#__PURE__*/_jsxDEV(MonthlyFlowChart, {\n          monthlyTotals: monthlyTotals,\n          selectedMonth: selectedMonth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(TransactionTable, {\n          transactions: filteredTransactions // Display fully filtered list\n          ,\n          deleteTransaction: deleteTransaction\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 702,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 13\n    }, this);\n  };\n\n  // --- Loading State ---\n  if (isLoading || !isAuthReady) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-screen bg-gray-900 text-indigo-400\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xl font-semibold animate-pulse\",\n        children: \"Loading BudgetFlow...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 745,\n      columnNumber: 13\n    }, this);\n  }\n\n  // --- Main Layout ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex min-h-screen ${BG_COLOR} font-sans`,\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      currentPage: currentPage,\n      setCurrentPage: setCurrentPage,\n      userId: userId,\n      handleLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 757,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-gray-800 border-t border-indigo-700 flex justify-around p-3 shadow-2xl\",\n      children: ['DASHBOARD', 'INCOME', 'EXPENSE', 'TRANSACTIONS'].map(page => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentPage(page),\n        className: `p-2 rounded-lg text-xs font-medium transition ${currentPage === page ? 'bg-indigo-600 text-white shadow-lg' : 'text-gray-400 hover:text-indigo-400'}`,\n        children: page.charAt(0) + page.slice(1).toLowerCase()\n      }, page, false, {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 765,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-grow pb-16 lg:pb-0 relative\",\n      children: renderPageContent()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToastifyGlobalStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 785,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 786,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 755,\n    columnNumber: 9\n  }, this);\n}\n_s2(App, \"f9cROSkZ+Js5YLWf0xZGwanE9ug=\");\n_c0 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0;\n$RefreshReg$(_c, \"ToastifyGlobalStyle\");\n$RefreshReg$(_c2, \"Icon\");\n$RefreshReg$(_c3, \"SearchBarComponent\");\n$RefreshReg$(_c4, \"MonthSelector\");\n$RefreshReg$(_c5, \"MonthlyFlowChart\");\n$RefreshReg$(_c6, \"Sidebar\");\n$RefreshReg$(_c7, \"TransactionForm\");\n$RefreshReg$(_c8, \"TransactionTable\");\n$RefreshReg$(_c9, \"DashboardSummary\");\n$RefreshReg$(_c0, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","initializeApp","getAuth","signInAnonymously","signInWithCustomToken","onAuthStateChanged","signOut","getFirestore","doc","collection","query","onSnapshot","addDoc","deleteDoc","orderBy","ToastContainer","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","BG_COLOR","CARD_BG","TEXT_COLOR","ACCENT_COLOR","SHADOW_STYLE","ToastifyGlobalStyle","dangerouslySetInnerHTML","__html","fileName","_jsxFileName","lineNumber","columnNumber","_c","handleSuccess","msg","success","position","autoClose","theme","handleError","error","formatDateForInput","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","getMonthName","yyyymm","split","toLocaleString","Icon","name","className","svgPath","transform","children","cx","cy","r","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_c2","SearchBarComponent","value","onChange","type","placeholder","_c3","MonthSelector","availableMonths","selectedMonth","onMonthChange","inputClasses","e","target","map","monthKey","_c4","MonthlyFlowChart","monthlyTotals","income","expense","total","balance","balanceColor","monthName","maxVal","Math","max","incomePercent","expensePercent","flowData","label","color","percent","toFixed","item","style","width","_c5","Sidebar","currentPage","setCurrentPage","userId","handleLogout","navItems","page","icon","title","onClick","_c6","TransactionForm","addTransaction","_s","text","setText","amount","setAmount","setType","setDate","labelClasses","onSubmit","preventDefault","amountVal","parseFloat","isNaN","signedAmount","abs","selectedDate","newTransaction","buttonStyle","typeButtonStyle","buttonType","htmlFor","id","required","min","step","_c7","TransactionTable","transactions","deleteTransaction","headerClasses","rowClasses","t","isIncome","amountColor","amountPrefix","dateValue","seconds","getTime","toLocaleDateString","_c8","DashboardSummary","incomeAmt","expenseAmt","Card","iconName","_c9","App","_s2","db","setDb","setUserId","isAuthReady","setIsAuthReady","allTransactions","setAllTransactions","isLoading","setIsLoading","searchTerm","setSearchTerm","setSelectedMonth","appId","__app_id","firebaseConfig","JSON","parse","__firebase_config","apiKey","console","app","firestoreDb","firebaseAuth","unsubscribe","user","uid","initialAuthToken","__initial_auth_token","cred","transactionsRef","q","querySnapshot","transactionsData","forEach","data","push","transactionDocRef","auth","months","Set","String","padStart","add","Array","from","sort","reverse","filteredTransactions","list","filter","filterYear","filterMonth","Number","tYear","tMonth","lowerCaseSearch","toLowerCase","includes","reduce","acc","exp","monthlyIncome","monthlyExpense","renderPageContent","titleClasses","charAt","slice","_c0","$RefreshReg$"],"sources":["C:/Users/harsh/Desktop/expense/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { getFirestore, doc, collection, query, onSnapshot, addDoc, deleteDoc, orderBy } from 'firebase/firestore';\nimport { ToastContainer, toast } from 'react-toastify';\n\n// --- THEME CONSTANTS (Dark Mode Only) ---\nconst BG_COLOR = 'bg-gray-900';\nconst CARD_BG = 'bg-gray-800';\nconst TEXT_COLOR = 'text-gray-50';\nconst ACCENT_COLOR = 'text-indigo-400';\nconst SHADOW_STYLE = 'shadow-2xl shadow-indigo-900/50';\n\n// Inject Toastify CSS (Mandatory for single-file deployment)\nconst ToastifyGlobalStyle = () => (\n    <style dangerouslySetInnerHTML={{__html: `\n        /* Toastify styling for a modern dark look */\n        .Toastify__toast-container { z-index: 9999; }\n        .Toastify__toast--success { background: #10b981; color: white; border-radius: 0.5rem; }\n        .Toastify__toast--error { background: #ef4444; color: white; border-radius: 0.5rem; }\n        .Toastify__toast-body { font-family: 'Inter', sans-serif; }\n    `}} />\n);\n\nconst handleSuccess = (msg) => {\n    toast.success(msg, { position: \"bottom-right\", autoClose: 3000, theme: \"dark\" });\n};\n\nconst handleError = (msg) => {\n    toast.error(msg, { position: \"bottom-right\", autoClose: 4000, theme: \"dark\" });\n};\n\n// Utility function to format date to YYYY-MM-DD for input fields\nconst formatDateForInput = (date) => {\n    const d = new Date(date);\n    let month = '' + (d.getMonth() + 1);\n    let day = '' + d.getDate();\n    const year = d.getFullYear();\n\n    if (month.length < 2) month = '0' + month;\n    if (day.length < 2) day = '0' + day;\n\n    return [year, month, day].join('-');\n};\n\n// Utility to get month name from YYYY-MM\nconst getMonthName = (yyyymm) => {\n    if (!yyyymm) return '';\n    const [year, month] = yyyymm.split('-');\n    const date = new Date(year, month - 1, 1);\n    return date.toLocaleString('default', { month: 'long', year: 'numeric' });\n}\n\n\n// --- Mock Icon Component (Lucide Icons) ---\nconst Icon = ({ name, className = 'w-5 h-5' }) => {\n    let svgPath;\n    switch (name) {\n        case 'dashboard': svgPath = <path d=\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z\" />; break;\n        case 'income': svgPath = <path d=\"M12 2v20m5-5-5 5-5-5m5-15 5 5-5-5Z\" />; break; \n        case 'expense': svgPath = <path d=\"M12 2v20m5-5-5 5-5-5m5-15 5 5-5-5Z\" transform=\"rotate(180 12 12)\"/>; break;\n        case 'transactions': svgPath = <path d=\"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01\" />; break;\n        case 'trash': svgPath = <path d=\"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" />; break;\n        case 'logout': svgPath = <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9\" />; break;\n        case 'search': svgPath = (<><circle cx=\"11\" cy=\"11\" r=\"8\"/><path d=\"m21 21-4.3-4.3\"/></>); break;\n        case 'filter': svgPath = <path d=\"M12 3v18M15 15l-3 3-3-3M9 6l3-3 3 3\" />; break;\n        default: svgPath = <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z\" />;\n    }\n\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n            {svgPath}\n        </svg>\n    );\n};\n\n\n// --- Component: Search Bar ---\nconst SearchBarComponent = ({ value, onChange }) => (\n    <div className={`relative w-full`}>\n        <Icon name=\"search\" className={`w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400`} />\n        <input\n            type=\"text\"\n            placeholder=\"Filter by description (e.g., 'Coffee', 'Rent')...\"\n            value={value}\n            onChange={onChange}\n            className=\"w-full p-3 pl-10 rounded-xl bg-gray-700 text-gray-50 border border-gray-600 focus:border-indigo-500 focus:ring-indigo-500 placeholder-gray-400 transition\"\n        />\n    </div>\n);\n\n// --- Component: Month Selector (NEW) ---\nconst MonthSelector = ({ availableMonths, selectedMonth, onMonthChange }) => {\n    const inputClasses = \"appearance-none w-full p-3 pl-4 border border-gray-600 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 bg-gray-700 text-gray-50 transition cursor-pointer\";\n\n    return (\n        <div className=\"relative w-full\">\n             <Icon name=\"filter\" className={`w-5 h-5 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none`} />\n            <select\n                value={selectedMonth}\n                onChange={(e) => onMonthChange(e.target.value)}\n                className={inputClasses}\n            >\n                <option value=\"\">All Months</option>\n                {availableMonths.map(monthKey => (\n                    <option key={monthKey} value={monthKey}>\n                        {getMonthName(monthKey)}\n                    </option>\n                ))}\n            </select>\n        </div>\n    );\n};\n\n\n// --- Component: Monthly Flow Chart (NEW) ---\nconst MonthlyFlowChart = ({ monthlyTotals, selectedMonth }) => {\n    const { income, expense } = monthlyTotals;\n    const total = income + expense;\n    const balance = income - expense;\n    const balanceColor = balance >= 0 ? 'text-green-400' : 'text-red-400';\n    const monthName = getMonthName(selectedMonth);\n\n    // Calculate percentages for visualization (max 100%)\n    const maxVal = Math.max(income, expense, 1); // Avoid division by zero\n    const incomePercent = (income / maxVal) * 100;\n    const expensePercent = (expense / maxVal) * 100;\n\n    const flowData = [\n        { label: 'Income', value: income, color: 'bg-green-600', percent: incomePercent },\n        { label: 'Expense', value: expense, color: 'bg-red-600', percent: expensePercent },\n    ];\n\n    return (\n        <div className={`mb-8 p-6 ${CARD_BG} rounded-xl ${SHADOW_STYLE} border border-indigo-700/50`}>\n            <h2 className={`text-2xl font-bold mb-4 ${ACCENT_COLOR}`}>\n                Financial Flow for {monthName}\n            </h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 text-center\">\n                <div className='p-3 rounded-lg bg-gray-700'>\n                    <p className='text-sm text-gray-400 font-medium'>Total Income</p>\n                    <p className='text-2xl font-bold text-green-500'>${income.toFixed(2)}</p>\n                </div>\n                <div className='p-3 rounded-lg bg-gray-700'>\n                    <p className='text-sm text-gray-400 font-medium'>Total Expense</p>\n                    <p className='text-2xl font-bold text-red-500'>${expense.toFixed(2)}</p>\n                </div>\n                <div className='p-3 rounded-lg bg-gray-700'>\n                    <p className='text-sm text-gray-400 font-medium'>Net Balance</p>\n                    <p className={`text-2xl font-bold ${balanceColor}`}>${balance.toFixed(2)}</p>\n                </div>\n            </div>\n\n            {/* Simple Bar Chart Visualization */}\n            <div className='space-y-4 pt-4'>\n                {flowData.map((item) => (\n                    <div key={item.label}>\n                        <div className='flex justify-between items-center mb-1 text-sm'>\n                            <span className='font-semibold text-gray-300'>{item.label}</span>\n                            <span className='font-mono text-gray-300'>${item.value.toFixed(2)}</span>\n                        </div>\n                        <div className='h-3 rounded-full bg-gray-700 overflow-hidden'>\n                            <div \n                                style={{ width: `${item.percent}%` }} \n                                className={`h-full ${item.color} rounded-full transition-all duration-700 ease-out`}\n                            />\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n        </div>\n    );\n};\n\n\n// --- Component: Sidebar Navigation ---\nconst Sidebar = ({ currentPage, setCurrentPage, userId, handleLogout }) => {\n    const navItems = [\n        { name: 'Dashboard', page: 'DASHBOARD', icon: 'dashboard' },\n        { name: 'Income', page: 'INCOME', icon: 'income' },\n        { name: 'Expense', page: 'EXPENSE', icon: 'expense' },\n        { name: 'Transactions', page: 'TRANSACTIONS', icon: 'transactions' },\n    ];\n\n    return (\n        <div className={`hidden lg:flex h-full min-h-screen w-64 ${CARD_BG} ${TEXT_COLOR} shadow-inner shadow-gray-700/50 flex-col p-4 border-r border-gray-700 z-10 sticky top-0`}>\n            {/* Header / Logo */}\n            <div className={`text-3xl font-extrabold ${ACCENT_COLOR} mb-8 p-2 tracking-wide border-b border-indigo-700 pb-4`}>\n                BudgetFlow <span className='text-xs text-red-500 block font-normal mt-1'>DARK EDITION</span>\n            </div>\n\n            {/* Profile */}\n            <div className={`flex flex-col items-start mb-10 p-2 border-b border-gray-700 pb-4`}>\n                <div className=\"text-sm font-semibold text-gray-400 mb-1\">Authenticated User ID:</div>\n                <div className=\"text-xs text-gray-50 font-mono truncate w-full\" title={userId}>\n                    {userId ? userId : 'Loading...'}\n                </div>\n            </div>\n\n            {/* Navigation */}\n            <nav className=\"flex-grow space-y-2\">\n                {navItems.map(item => (\n                    <button\n                        key={item.name}\n                        onClick={() => setCurrentPage(item.page)}\n                        className={`flex items-center w-full p-3 rounded-xl font-semibold transition duration-200 ${\n                            currentPage === item.page\n                                ? 'bg-indigo-600 text-white shadow-lg ' + SHADOW_STYLE\n                                : `text-gray-300 hover:bg-gray-700/50 hover:${ACCENT_COLOR}`\n                        }`}\n                    >\n                        <Icon name={item.icon} className=\"w-5 h-5 mr-4\" />\n                        {item.name}\n                    </button>\n                ))}\n            </nav>\n\n            {/* Logout */}\n            <button\n                onClick={handleLogout}\n                className=\"flex items-center w-full p-3 mt-4 rounded-xl text-red-400 hover:bg-red-900 border border-red-900 font-semibold transition duration-200 shadow-md\"\n            >\n                <Icon name=\"logout\" className=\"w-5 h-5 mr-4\" />\n                Sign Out\n            </button>\n        </div>\n    );\n};\n\n\n// --- Component: Transaction Form ---\nconst TransactionForm = ({ addTransaction }) => {\n    const [text, setText] = useState('');\n    const [amount, setAmount] = useState('');\n    const [type, setType] = useState('Expense');\n    const [date, setDate] = useState(formatDateForInput(new Date())); \n\n    const inputClasses = \"w-full p-3 border border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 bg-gray-700 text-gray-50 placeholder-gray-400 transition\";\n    const labelClasses = \"text-gray-300\";\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n\n        const amountVal = parseFloat(amount);\n        if (!text || amountVal === '' || isNaN(amountVal) || amountVal <= 0 || !date) {\n            handleError(\"Please enter a description, a positive amount, and a valid date.\");\n            return;\n        }\n\n        const signedAmount = type === 'Expense' ? -Math.abs(amountVal) : Math.abs(amountVal);\n        const selectedDate = new Date(date);\n        \n        const newTransaction = {\n            text,\n            amount: signedAmount,\n            type,\n            date: selectedDate, \n        };\n\n        addTransaction(newTransaction);\n        setText('');\n        setAmount('');\n        setDate(formatDateForInput(new Date())); \n    };\n\n    const buttonStyle = type === 'Expense' \n        ? 'bg-red-700 hover:bg-red-600 shadow-red-900/40' \n        : 'bg-green-700 hover:bg-green-600 shadow-green-900/40';\n    const typeButtonStyle = (buttonType) => buttonType === type \n        ? (buttonType === 'Expense' ? 'bg-red-600 text-white' : 'bg-green-600 text-white') \n        : 'bg-gray-700 text-gray-300 hover:bg-gray-600';\n\n    return (\n        <form onSubmit={onSubmit} className=\"space-y-4\">\n            <div>\n                <label className={`block text-sm font-medium mb-1 ${labelClasses}`}>Type</label>\n                <div className=\"flex space-x-4\">\n                    <button\n                        type=\"button\"\n                        onClick={() => setType('Expense')}\n                        className={`flex-1 py-2 px-4 rounded-lg font-semibold transition shadow-md ${typeButtonStyle('Expense')}`}\n                    >\n                        Expense\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setType('Income')}\n                        className={`flex-1 py-2 px-4 rounded-lg font-semibold transition shadow-md ${typeButtonStyle('Income')}`}\n                    >\n                        Income\n                    </button>\n                </div>\n            </div>\n             <div>\n                <label htmlFor=\"date\" className={`block text-sm font-medium mb-1 ${labelClasses}`}>\n                    Date\n                </label>\n                <input\n                    type=\"date\"\n                    id=\"date\"\n                    value={date}\n                    onChange={(e) => setDate(e.target.value)}\n                    className={inputClasses}\n                    required\n                />\n            </div>\n            <div>\n                <label htmlFor=\"text\" className={`block text-sm font-medium mb-1 ${labelClasses}`}>\n                    Description (Category)\n                </label>\n                <input\n                    type=\"text\"\n                    id=\"text\"\n                    value={text}\n                    onChange={(e) => setText(e.target.value)}\n                    placeholder=\"e.g., Groceries, Salary, Rent\"\n                    className={inputClasses}\n                    required\n                />\n            </div>\n            <div>\n                <label htmlFor=\"amount\" className={`block text-sm font-medium mb-1 ${labelClasses}`}>\n                    Amount ($)\n                </label>\n                <input\n                    type=\"number\"\n                    id=\"amount\"\n                    value={amount}\n                    onChange={(e) => setAmount(e.target.value)}\n                    placeholder=\"Enter amount\"\n                    className={inputClasses}\n                    min=\"0.01\"\n                    step=\"0.01\"\n                    required\n                />\n            </div>\n            <button\n                type=\"submit\"\n                className={`w-full py-3 px-4 ${buttonStyle} text-white font-bold rounded-xl shadow-xl transition duration-300 transform hover:scale-[1.01]`}\n            >\n                Add {type}\n            </button>\n        </form>\n    );\n};\n\n\n// --- Component: Transaction Table ---\nconst TransactionTable = ({ transactions, deleteTransaction }) => {\n    if (transactions.length === 0) {\n        return <p className=\"text-center py-8 text-gray-500\">No transactions recorded yet or matching your filter.</p>;\n    }\n\n    const headerClasses = 'bg-gray-700 text-indigo-400 shadow-md';\n    const rowClasses = 'text-gray-300 hover:bg-gray-700 transition duration-150 border-b border-gray-800';\n\n    return (\n        <div className={`overflow-x-auto ${CARD_BG} rounded-xl ${SHADOW_STYLE} border border-gray-700`}>\n            <table className=\"min-w-full divide-y divide-gray-700\">\n                <thead className={headerClasses}>\n                    <tr>\n                        <th className=\"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider w-1/5\">Date</th>\n                        <th className=\"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider w-2/5\">Description</th>\n                        <th className=\"px-4 py-3 text-right text-xs font-bold uppercase tracking-wider w-1/5\">Amount</th>\n                        <th className=\"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider w-1/5\">Action</th>\n                    </tr>\n                </thead>\n                <tbody className='bg-gray-800 divide-y divide-gray-700'>\n                    {transactions.map((t) => {\n                        const isIncome = t.amount > 0;\n                        const amountColor = isIncome ? 'text-green-400' : 'text-red-400';\n                        const amountPrefix = isIncome ? '+' : '';\n                        \n                        // Handle Firestore timestamp vs Date object\n                        const dateValue = t.date.seconds ? t.date.seconds * 1000 : new Date(t.date).getTime();\n\n                        return (\n                            <tr key={t.id} className={rowClasses}>\n                                <td className=\"px-4 py-3 whitespace-nowrap text-sm\">{new Date(dateValue).toLocaleDateString()}</td>\n                                <td className=\"px-4 py-3 text-sm font-medium\">{t.text}</td>\n                                <td className=\"px-4 py-3 whitespace-nowrap text-sm text-right font-bold\">\n                                    <span className={amountColor}>\n                                        {amountPrefix}${Math.abs(t.amount).toFixed(2)}\n                                    </span>\n                                </td>\n                                <td className=\"px-4 py-3 whitespace-nowrap text-center text-sm font-medium\">\n                                    <button\n                                        onClick={() => deleteTransaction(t.id)}\n                                        className=\"text-red-500 hover:text-red-300 transition duration-150 p-1 rounded-full hover:bg-gray-700\"\n                                        title=\"Delete Transaction\"\n                                    >\n                                        <Icon name=\"trash\" className=\"w-5 h-5\" />\n                                    </button>\n                                </td>\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\n\n// --- Component: Dashboard Summary ---\nconst DashboardSummary = ({ incomeAmt, expenseAmt }) => {\n    const balance = incomeAmt - expenseAmt;\n    const balanceColor = balance >= 0 ? 'text-green-400' : 'text-red-400';\n\n    const Card = ({ title, amount, color, iconName }) => (\n        <div className={`${CARD_BG} p-6 rounded-xl ${SHADOW_STYLE} border border-indigo-700/50 transform hover:scale-[1.01] transition-all duration-300 flex flex-col justify-between`}>\n            <div className='flex items-center justify-between'>\n                <h2 className={`text-lg font-semibold text-gray-400`}>{title}</h2>\n                <Icon name={iconName} className={`w-6 h-6 ${color}`} />\n            </div>\n            <p className={`text-4xl font-extrabold mt-4 ${color}`}>\n                ${amount.toFixed(2)}\n            </p>\n        </div>\n    );\n\n    return (\n        <div className='grid grid-cols-1 md:grid-cols-3 gap-6'>\n            <Card \n                title=\"Current Balance\" \n                amount={balance} \n                color={balanceColor} \n                iconName=\"dashboard\"\n            />\n            <Card \n                title=\"Total Income\" \n                amount={incomeAmt} \n                color=\"text-green-500\" \n                iconName=\"income\"\n            />\n            <Card \n                title=\"Total Expenses\" \n                amount={expenseAmt} \n                color=\"text-red-500\" \n                iconName=\"expense\"\n            />\n        </div>\n    );\n};\n\n\n// --- Main App Component ---\nfunction App() {\n    // --- State Management ---\n    const [db, setDb] = useState(null);\n    const [userId, setUserId] = useState(null);\n    const [isAuthReady, setIsAuthReady] = useState(false);\n    const [currentPage, setCurrentPage] = useState('DASHBOARD');\n    const [allTransactions, setAllTransactions] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [selectedMonth, setSelectedMonth] = useState(''); // NEW: Month filter state (YYYY-MM)\n\n    // --- Firebase Initialization & Auth ---\n    useEffect(() => {\n        // Initialization logic remains the same\n        try {\n            const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n            const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');\n\n            if (!firebaseConfig.apiKey) {\n                console.error(\"Firebase config is missing API key. Cannot initialize.\");\n                setIsAuthReady(true);\n                setIsLoading(false);\n                return;\n            }\n\n            const app = initializeApp(firebaseConfig);\n            const firestoreDb = getFirestore(app);\n            const firebaseAuth = getAuth(app);\n            \n            setDb(firestoreDb);\n\n            const unsubscribe = onAuthStateChanged(firebaseAuth, async (user) => {\n                if (user) {\n                    setUserId(user.uid);\n                } else {\n                    const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;\n                    try {\n                        if (initialAuthToken) {\n                            const cred = await signInWithCustomToken(firebaseAuth, initialAuthToken);\n                            setUserId(cred.user.uid);\n                        } else {\n                            const cred = await signInAnonymously(firebaseAuth);\n                            setUserId(cred.user.uid);\n                        }\n                    } catch (error) {\n                        console.error(\"Firebase Auth Error:\", error);\n                        handleError(\"Failed to authenticate.\");\n                    }\n                }\n                setIsAuthReady(true);\n                setIsLoading(false);\n            });\n\n            return () => unsubscribe();\n        } catch (error) {\n            console.error(\"Firebase Setup Failed:\", error);\n            setIsAuthReady(true);\n            setIsLoading(false);\n        }\n    }, []);\n\n    // --- Firebase Data Fetching (onSnapshot) ---\n    useEffect(() => {\n        // Data fetching logic remains the same\n        if (!db || !userId || !isAuthReady) return;\n\n        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n        const transactionsRef = collection(db, 'artifacts', appId, 'users', userId, 'transactions');\n        \n        const q = query(transactionsRef, orderBy('date', 'desc'));\n\n        const unsubscribe = onSnapshot(q, (querySnapshot) => {\n            const transactionsData = [];\n            querySnapshot.forEach((doc) => {\n                const data = doc.data();\n                transactionsData.push({ \n                    ...data, \n                    id: doc.id, \n                    type: data.amount > 0 ? 'Income' : 'Expense',\n                    date: data.date \n                });\n            });\n            setAllTransactions(transactionsData);\n        }, (error) => {\n            console.error(\"Error fetching transactions:\", error);\n            handleError(\"Failed to load transactions.\");\n        });\n\n        return () => unsubscribe();\n    }, [db, userId, isAuthReady]); \n\n    // --- CRUD Operations ---\n    const addTransaction = async (newTransaction) => {\n        // CRUD logic remains the same\n        if (!db || !userId) return handleError(\"Database not ready.\");\n        try {\n            const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n            const transactionsRef = collection(db, 'artifacts', appId, 'users', userId, 'transactions');\n            await addDoc(transactionsRef, newTransaction);\n            handleSuccess(`Transaction: ${newTransaction.text} added!`);\n        } catch (error) {\n            console.error(\"Error adding document: \", error);\n            handleError(\"Failed to add transaction.\");\n        }\n    };\n\n    const deleteTransaction = async (id) => {\n        // CRUD logic remains the same\n        if (!db || !userId) return handleError(\"Database not ready.\");\n        try {\n            const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n            const transactionDocRef = doc(db, 'artifacts', appId, 'users', userId, 'transactions', id);\n            await deleteDoc(transactionDocRef);\n            handleSuccess('Transaction deleted!');\n        } catch (error) {\n            console.error(\"Error deleting document: \", error);\n            handleError(\"Failed to delete transaction.\");\n        }\n    };\n\n    const handleLogout = () => {\n        const auth = getAuth(db.app);\n        if (auth) signOut(auth);\n    };\n    \n    // --- Derived State (Available Months - NEW) ---\n    const availableMonths = useMemo(() => {\n        const months = new Set();\n        allTransactions.forEach(t => {\n            const date = t.date.seconds ? new Date(t.date.seconds * 1000) : new Date(t.date);\n            if (!isNaN(date.getTime())) {\n                // Store as YYYY-MM\n                const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n                months.add(monthKey);\n            }\n        });\n        // Sort by newest month first\n        return Array.from(months).sort().reverse();\n    }, [allTransactions]);\n\n    // --- Derived State (Primary Filtering - MODIFIED) ---\n    const filteredTransactions = useMemo(() => {\n        let list = allTransactions;\n\n        // 1. Filter by Page/Type\n        switch (currentPage) {\n            case 'INCOME': list = list.filter(t => t.amount > 0); break;\n            case 'EXPENSE': list = list.filter(t => t.amount < 0); break;\n        }\n\n        // 2. Filter by Month/Year (applies to ALL pages if selected)\n        if (selectedMonth) {\n            const [filterYear, filterMonth] = selectedMonth.split('-').map(Number);\n            list = list.filter(t => {\n                const date = t.date.seconds ? new Date(t.date.seconds * 1000) : new Date(t.date);\n                const tYear = date.getFullYear();\n                const tMonth = date.getMonth() + 1; // 1-based month\n                \n                return tYear === filterYear && tMonth === filterMonth;\n            });\n        }\n\n        // 3. Filter by Search Term (applies to ALL pages/filtered list)\n        if (searchTerm) {\n            const lowerCaseSearch = searchTerm.toLowerCase();\n            list = list.filter(t => t.text.toLowerCase().includes(lowerCaseSearch));\n        }\n\n        return list;\n    }, [allTransactions, currentPage, searchTerm, selectedMonth]);\n\n    // --- Derived State (Overall Totals for Dashboard) ---\n    const { incomeAmt, expenseAmt } = useMemo(() => {\n        const income = allTransactions.filter(t => t.amount > 0).reduce((acc, t) => acc + t.amount, 0);\n        const exp = allTransactions.filter(t => t.amount < 0).reduce((acc, t) => acc + t.amount, 0);\n        return { incomeAmt: income, expenseAmt: Math.abs(exp) };\n    }, [allTransactions]);\n\n    // --- Derived State (Monthly Aggregation for Chart - NEW) ---\n    const monthlyTotals = useMemo(() => {\n        let monthlyIncome = 0;\n        let monthlyExpense = 0;\n\n        // We use filteredTransactions here, but only aggregate if a month is selected\n        // to avoid incorrect totals on the Income/Expense page views when no month is selected.\n        if (selectedMonth || currentPage === 'TRANSACTIONS') {\n             filteredTransactions.forEach(t => {\n                if (t.amount > 0) {\n                    monthlyIncome += t.amount;\n                } else {\n                    monthlyExpense += Math.abs(t.amount);\n                }\n            });\n        }\n        \n        return { \n            income: monthlyIncome, \n            expense: monthlyExpense \n        };\n    }, [filteredTransactions, selectedMonth, currentPage]);\n\n    // --- View/Page Content ---\n    const renderPageContent = () => {\n        const titleClasses = `text-4xl font-extrabold mb-8 ${ACCENT_COLOR}`;\n\n        return (\n            <main className={`flex-grow p-4 sm:p-8 ${BG_COLOR}`}>\n                <h1 className={titleClasses}>\n                    {currentPage === 'DASHBOARD' ? 'Financial Dashboard' : currentPage.charAt(0) + currentPage.slice(1).toLowerCase() + ' History'}\n                </h1>\n\n                {/* Dashboard & Form View */}\n                {(currentPage === 'DASHBOARD' || currentPage === 'EXPENSE' || currentPage === 'INCOME') && (\n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\n                        {/* Summary / Form (lg:col-span-1) */}\n                        <div className=\"lg:col-span-1 space-y-6\">\n                            <section className={`${CARD_BG} p-6 rounded-xl ${SHADOW_STYLE} border border-gray-700`}>\n                                <h2 className={`text-xl font-semibold mb-4 ${TEXT_COLOR}`}>\n                                    Add New Transaction\n                                </h2>\n                                <TransactionForm addTransaction={addTransaction} />\n                            </section>\n                        </div>\n\n                        {/* Summary / Recent Transactions (lg:col-span-2) */}\n                        <div className=\"lg:col-span-2 space-y-6\">\n                            <DashboardSummary incomeAmt={incomeAmt} expenseAmt={expenseAmt} />\n                            \n                            {/* Search Bar for Income/Expense pages */}\n                            {currentPage !== 'DASHBOARD' && (\n                                <SearchBarComponent \n                                    value={searchTerm} \n                                    onChange={(e) => setSearchTerm(e.target.value)}\n                                />\n                            )}\n                            \n                            <section className={`${CARD_BG} p-6 rounded-xl ${SHADOW_STYLE} border border-gray-700`}>\n                                <h2 className={`text-xl font-semibold mb-4 ${TEXT_COLOR}`}>\n                                    {currentPage === 'DASHBOARD' ? 'Recent Activity' : `${currentPage.charAt(0) + currentPage.slice(1).toLowerCase()} History`}\n                                </h2>\n                                {/* Display filtered list, sliced for dashboard/recent view */}\n                                <TransactionTable \n                                    transactions={filteredTransactions.slice(0, 10)} \n                                    deleteTransaction={deleteTransaction} \n                                />\n                            </section>\n                        </div>\n                    </div>\n                )}\n                \n                {/* All Transactions View (Full List - Filterable + Chart - MODIFIED) */}\n                {currentPage === 'TRANSACTIONS' && (\n                    <section className={`${CARD_BG} p-6 rounded-xl ${SHADOW_STYLE} border border-gray-700`}>\n                        <h2 className={`text-xl font-semibold mb-4 ${TEXT_COLOR}`}>\n                            All Recorded Transactions\n                        </h2>\n                        \n                        {/* Filter Controls (Search + Month Selector) */}\n                        <div className='flex flex-col sm:flex-row gap-4 mb-6'>\n                            <div className='flex-1'>\n                                <SearchBarComponent \n                                    value={searchTerm} \n                                    onChange={(e) => setSearchTerm(e.target.value)}\n                                />\n                            </div>\n                            <div className='w-full sm:w-64'>\n                                <MonthSelector \n                                    availableMonths={availableMonths} \n                                    selectedMonth={selectedMonth}\n                                    onMonthChange={setSelectedMonth}\n                                />\n                            </div>\n                        </div>\n\n                        {/* Monthly Flow Chart (only show if a month is selected) */}\n                        {selectedMonth && (\n                            <MonthlyFlowChart \n                                monthlyTotals={monthlyTotals} \n                                selectedMonth={selectedMonth}\n                            />\n                        )}\n                        \n                        <TransactionTable \n                            transactions={filteredTransactions} // Display fully filtered list\n                            deleteTransaction={deleteTransaction} \n                        />\n                    </section>\n                )}\n            </main>\n        );\n    };\n\n    // --- Loading State ---\n    if (isLoading || !isAuthReady) {\n        return (\n            <div className=\"flex justify-center items-center h-screen bg-gray-900 text-indigo-400\">\n                <div className=\"text-xl font-semibold animate-pulse\">\n                    Loading BudgetFlow...\n                </div>\n            </div>\n        );\n    }\n\n    // --- Main Layout ---\n    return (\n        <div className={`flex min-h-screen ${BG_COLOR} font-sans`}>\n            {/* Sidebar (Desktop) */}\n            <Sidebar \n                currentPage={currentPage}\n                setCurrentPage={setCurrentPage}\n                userId={userId}\n                handleLogout={handleLogout}\n            />\n\n            {/* Mobile Navigation */}\n            <div className=\"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-gray-800 border-t border-indigo-700 flex justify-around p-3 shadow-2xl\">\n                {['DASHBOARD', 'INCOME', 'EXPENSE', 'TRANSACTIONS'].map(page => (\n                    <button\n                        key={page}\n                        onClick={() => setCurrentPage(page)}\n                        className={`p-2 rounded-lg text-xs font-medium transition ${\n                            currentPage === page ? 'bg-indigo-600 text-white shadow-lg' : 'text-gray-400 hover:text-indigo-400'\n                        }`}\n                    >\n                        {page.charAt(0) + page.slice(1).toLowerCase()}\n                    </button>\n                ))}\n            </div>\n\n            {/* Main Content Area */}\n            <div className=\"flex-grow pb-16 lg:pb-0 relative\">\n                {renderPageContent()}\n            </div>\n\n            {/* Global Utilities */}\n            <ToastifyGlobalStyle />\n            <ToastContainer />\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}