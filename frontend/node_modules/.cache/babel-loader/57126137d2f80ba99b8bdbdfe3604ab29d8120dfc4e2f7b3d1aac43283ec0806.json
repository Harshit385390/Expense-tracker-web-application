{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\harsh\\\\Desktop\\\\expense\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from 'firebase/auth';\nimport { getFirestore, collection, onSnapshot, query, where, doc, setDoc, updateDoc, deleteDoc, getDocs, addDoc } from 'firebase/firestore';\n\n// --- Constants & Config ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PAGES = {\n  DASHBOARD: 'Dashboard',\n  INCOME: 'Income',\n  EXPENSE: 'Expense',\n  TRANSACTIONS: 'All Transactions'\n};\nconst TransactionType = {\n  Income: 'Income',\n  Expense: 'Expense'\n};\nconst CATEGORIES = {\n  [TransactionType.Income]: ['Salary', 'Freelance', 'Investment'],\n  [TransactionType.Expense]: ['Groceries', 'Rent', 'Utilities', 'Fun', 'Transport', 'Food', 'Shopping']\n};\n\n// Dummy data for charts (mimicking monthly aggregates)\nconst DUMMY_CHART_DATA = [{\n  label: 'Jan',\n  income: 12000,\n  expense: 6500\n}, {\n  label: 'Feb',\n  income: 9500,\n  expense: 7800\n}, {\n  label: 'Mar',\n  income: 14000,\n  expense: 5000\n}, {\n  label: 'Apr',\n  income: 7500,\n  expense: 6000\n}, {\n  label: 'May',\n  income: 11000,\n  expense: 4500\n}, {\n  label: 'Jun',\n  income: 9000,\n  expense: 7000\n}, {\n  label: 'Jul',\n  income: 10500,\n  expense: 4200\n}, {\n  label: 'Aug',\n  income: 13000,\n  expense: 5800\n}, {\n  label: 'Sep',\n  income: 8000,\n  expense: 6200\n}, {\n  label: 'Oct',\n  income: 10800,\n  expense: 5300\n}, {\n  label: 'Nov',\n  income: 9200,\n  expense: 6800\n}, {\n  label: 'Dec',\n  income: 11500,\n  expense: 4900\n}];\nconst DUMMY_TRANSACTIONS = [{\n  id: 'd1',\n  type: TransactionType.Income,\n  category: 'Salary',\n  amount: 3500,\n  date: '2025-09-28',\n  description: 'Monthly Paycheck'\n}, {\n  id: 'd2',\n  type: TransactionType.Expense,\n  category: 'Rent',\n  amount: 1200,\n  date: '2025-09-29',\n  description: 'Apartment Rent'\n}, {\n  id: 'd3',\n  type: TransactionType.Expense,\n  category: 'Groceries',\n  amount: 150,\n  date: '2025-09-30',\n  description: 'Weekly Shopping'\n}, {\n  id: 'd4',\n  type: TransactionType.Income,\n  category: 'Freelance',\n  amount: 500,\n  date: '2025-10-01',\n  description: 'Project Zeus Payment'\n}, {\n  id: 'd5',\n  type: TransactionType.Expense,\n  category: 'Fun',\n  amount: 50,\n  date: '2025-10-01',\n  description: 'Coffee with friends'\n}];\n\n// --- Utility Components (Icons) ---\nconst Icon = ({\n  name,\n  className = \"w-5 h-5\"\n}) => {\n  const getPath = name => {\n    switch (name) {\n      case 'plus':\n        return \"M12 4.5v15m7.5-7.5h-15\";\n      case 'x':\n        return \"M6 18L18 6M6 6l12 12\";\n      case 'dashboard':\n        return \"M2.25 10.5h19.5m-19.5 0h19.5m-19.5 0v3.75a2.25 2.25 0 002.25 2.25h14.25a2.25 2.25 0 002.25-2.25v-3.75m-19.5 0h19.5m-9.75 0V3.75M12 10.5V3.75\";\n      case 'income':\n        return \"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 014.288-1.743l.534-.143l2.842 2.842L21.75 18m-17.5-6.75l7.5-7.5m-6 6h10.5\";\n      case 'expense':\n        return \"M2.25 6L9 12.75l4.306-4.307a11.95 11.95 0 014.288 1.743l.534.143 2.842-2.842L21.75 6m-17.5 6.75l7.5 7.5m-6-6h10.5\";\n      case 'logout':\n        return \"M5.636 4.636l1.25 1.25m4.38-4.38l-1.25 1.25M6.886 16.886l-1.25 1.25m4.38 4.38l-1.25-1.25m-1.75-9a8 8 0 1116 0A8 8 0 013.636 12z\";\n      case 'transactions':\n        return \"M19.5 12h-15m0 0l6.75-6.75M4.5 12l6.75 6.75m1.5 6h15m0 0l-6.75-6.75m6.75 6.75l-6.75-6.75\";\n      case 'search':\n        return \"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z\";\n      case 'download':\n        return \"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75v-2.25M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3\";\n      case 'alert':\n        return \"M12 9v3.75M10.375 21V3.25M13.625 21V3.25m3.375 9.75v-5.5M7 13v-1.5M17 18.5v-11M7 6.5v11\";\n      case 'edit':\n        // NEW: Edit icon\n        return \"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 18.07a4.5 4.5 0 01-1.897 1.13L6.342 19.95a1.875 1.875 0 01-2.327-2.327l1.13-2.956a4.5 4.5 0 011.13-1.897l8.932-8.932z\";\n      case 'info':\n        return \"M12 11.25V9m0 3.75h.008M21 12a9 9 0 11-18 0 9 9 0 0118 0z\";\n      default:\n        return \"\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    className: className,\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      d: getPath(name)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Custom Modal/Alert Component (Replacing alert/confirm) ---\n_c = Icon;\nconst CustomModal = ({\n  isOpen,\n  title,\n  message,\n  onConfirm,\n  onCancel,\n  isConfirm = false\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex justify-center items-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-2xl max-w-sm w-full transform transition-all duration-300 scale-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            name: isConfirm ? 'alert' : 'info',\n            className: `w-6 h-6 ${isConfirm ? 'text-red-500' : 'text-indigo-500'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), typeof message === 'string' ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-sm text-gray-500\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), isConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-gray-50 flex justify-end space-x-3 rounded-b-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 transition\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConfirm,\n          className: `px-4 py-2 text-sm font-medium text-white rounded-lg transition bg-red-600 hover:bg-red-700`,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Chart Component (Dummy Visualization) ---\n_c2 = CustomModal;\nconst BarChartOverview = ({\n  data,\n  type,\n  title,\n  subtitle\n}) => {\n  const isIncome = type === TransactionType.Income;\n  const color = isIncome ? 'bg-indigo-500' : 'bg-red-500';\n  const chartKey = isIncome ? 'income' : 'expense';\n\n  // Find the max value to scale the bars\n  const maxVal = Math.max(...data.map(d => d[chartKey]));\n  const yAxisLabels = [maxVal.toFixed(0), (maxVal * 0.75).toFixed(0), (maxVal * 0.5).toFixed(0), (maxVal * 0.25).toFixed(0), 0];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-xl shadow-lg border border-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-gray-800\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: subtitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"flex items-center text-sm text-indigo-600 hover:text-indigo-800 transition\",\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          name: \"download\",\n          className: \"w-4 h-4 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this), \"Download\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-64 border-b border-l border-gray-200 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col justify-between text-xs text-gray-500 pr-2\",\n        children: yAxisLabels.map((label, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-right h-4 -translate-y-1\",\n          children: label\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-grow justify-around items-end space-x-2\",\n        children: data.map((item, index) => {\n          const heightPercentage = maxVal > 0 ? item[chartKey] / maxVal * 100 : 0;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center h-full w-full relative group\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-3/5 rounded-t-lg transition-all duration-500 ease-out ${color}`,\n              style: {\n                height: `${heightPercentage}%`,\n                minHeight: '5px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"absolute bottom-[-20px] text-xs text-gray-600 whitespace-nowrap\",\n              children: item.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-0 transform -translate-y-full mb-1 p-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\",\n              children: [\"$\", item[chartKey].toFixed(0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Firebase Setup Context/Hooks (Unchanged but included for completeness) ---\n_c3 = BarChartOverview;\nconst useFirebase = () => {\n  _s();\n  const [db, setDb] = useState(null);\n  const [auth, setAuth] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  useEffect(() => {\n    try {\n      const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n      const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');\n      if (!firebaseConfig || Object.keys(firebaseConfig).length === 0) {\n        console.error(\"Firebase config is missing or empty.\");\n        return;\n      }\n      const app = initializeApp(firebaseConfig);\n      const firestoreDb = getFirestore(app);\n      const firebaseAuth = getAuth(app);\n      const authSetup = async () => {\n        const token = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;\n        try {\n          if (token) {\n            await signInWithCustomToken(firebaseAuth, token);\n          } else {\n            await signInAnonymously(firebaseAuth);\n          }\n        } catch (error) {\n          console.error(\"Firebase authentication error:\", error);\n        }\n      };\n      authSetup();\n      const unsubscribe = onAuthStateChanged(firebaseAuth, user => {\n        if (user) {\n          setUserId(user.uid);\n          setDb(firestoreDb);\n          setAuth(firebaseAuth);\n          setIsAuthReady(true);\n          console.log(\"Firebase Auth Ready. User ID:\", user.uid);\n        } else {\n          const newUserId = crypto.randomUUID();\n          setUserId(newUserId);\n          setDb(firestoreDb);\n          setAuth(firebaseAuth);\n          setIsAuthReady(true);\n          console.log(\"Firebase Auth Ready (Anonymous/Fallback). User ID:\", newUserId);\n        }\n      });\n      return () => unsubscribe();\n    } catch (e) {\n      console.error(\"Firebase initialization failed:\", e);\n    }\n  }, []);\n  return {\n    db,\n    auth,\n    userId,\n    isAuthReady\n  };\n};\n\n// --- Firebase Data Hook (Unchanged) ---\n_s(useFirebase, \"I6BaXZD27NpCTny+bxwvhV82SdE=\");\nconst useTransactions = (db, userId, isAuthReady) => {\n  _s2();\n  const [transactions, setTransactions] = useState(DUMMY_TRANSACTIONS);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n  useEffect(() => {\n    if (!isAuthReady || !db || !userId) return;\n    setLoading(true);\n    setError(null);\n    const transactionsPath = `/artifacts/${appId}/users/${userId}/transactions`;\n    const q = query(collection(db, transactionsPath));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      const fetchedTransactions = [];\n      snapshot.forEach(doc => {\n        fetchedTransactions.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      fetchedTransactions.sort((a, b) => new Date(b.date) - new Date(a.date));\n\n      // Merge dummy data with fetched data if fetched is empty or use only fetched data\n      const finalTransactions = fetchedTransactions.length > 0 ? fetchedTransactions : DUMMY_TRANSACTIONS;\n      setTransactions(finalTransactions);\n      setLoading(false);\n    }, err => {\n      console.error(\"Error fetching transactions:\", err);\n      setError(\"Failed to load transactions. Check console for details.\");\n      setTransactions(DUMMY_TRANSACTIONS);\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, [db, userId, isAuthReady, appId]);\n  return {\n    transactions,\n    loading,\n    error\n  };\n};\n\n// --- Transaction Management Functions ---\n_s2(useTransactions, \"If6H6L1FRVQNxRsYn/dY1Q50zlg=\");\nconst addTransaction = async (db, userId, transactionData) => {\n  const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n  if (!db || !userId) {\n    console.error(\"Database or User ID not available for adding transaction.\");\n    return;\n  }\n  try {\n    const transactionsPath = `/artifacts/${appId}/users/${userId}/transactions`;\n    const docRef = await addDoc(collection(db, transactionsPath), {\n      ...transactionData,\n      amount: parseFloat(transactionData.amount),\n      date: transactionData.date || new Date().toISOString().split('T')[0]\n    });\n    console.log(\"Document written with ID: \", docRef.id);\n  } catch (e) {\n    console.error(\"Error adding document: \", e);\n  }\n};\nconst deleteTransaction = async (db, userId, transactionId) => {\n  const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n  if (!db || !userId) {\n    console.error(\"Database or User ID not available for deleting transaction.\");\n    return;\n  }\n  try {\n    const docPath = `/artifacts/${appId}/users/${userId}/transactions/${transactionId}`;\n    if (!transactionId.startsWith('d')) {\n      await deleteDoc(doc(db, docPath));\n      console.log(\"Document successfully deleted: \", transactionId);\n    } else {\n      console.warn(\"Attempted to delete dummy transaction. Operation skipped.\");\n    }\n  } catch (e) {\n    console.error(\"Error deleting document: \", e);\n  }\n};\n\n/**\n * NEW: Updates an existing transaction document in Firestore.\n */\nconst updateTransaction = async (db, userId, transactionId, updatedData) => {\n  const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n  if (!db || !userId) {\n    console.error(\"Database or User ID not available for updating transaction.\");\n    return;\n  }\n  if (!transactionId || transactionId.startsWith('d')) {\n    console.warn(\"Invalid or dummy transaction ID provided for update. Operation skipped.\");\n    return;\n  }\n  try {\n    const docPath = `/artifacts/${appId}/users/${userId}/transactions/${transactionId}`;\n\n    // Ensure amount is parsed as number\n    const dataToUpdate = {\n      ...updatedData,\n      amount: parseFloat(updatedData.amount)\n    };\n    await updateDoc(doc(db, docPath), dataToUpdate);\n    console.log(\"Document successfully updated: \", transactionId);\n  } catch (e) {\n    console.error(\"Error updating document: \", e);\n  }\n};\n\n// --- Sub Components ---\n\nconst TransactionForm = ({\n  onAdd,\n  transactionType,\n  setTransactionType\n}) => {\n  _s3();\n  const [description, setDescription] = useState('');\n  const [amount, setAmount] = useState('');\n  const [category, setCategory] = useState(CATEGORIES[TransactionType.Expense][0]);\n  const [date, setDate] = useState(new Date().toISOString().split('T')[0]);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    setCategory(CATEGORIES[transactionType][0]);\n  }, [transactionType]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    setError(null);\n    const parsedAmount = parseFloat(amount);\n    if (!description.trim() || parsedAmount <= 0 || isNaN(parsedAmount)) {\n      setError(\"Please enter a valid description and positive amount.\");\n      return;\n    }\n    const newTransaction = {\n      description: description.trim(),\n      amount: parsedAmount,\n      type: transactionType,\n      category: category,\n      date: date\n    };\n    onAdd(newTransaction);\n    setDescription('');\n    setAmount('');\n    setDate(new Date().toISOString().split('T')[0]);\n  };\n  const isExpense = transactionType === TransactionType.Expense;\n  const categories = CATEGORIES[transactionType];\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-sm italic\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"description\",\n          type: \"text\",\n          value: description,\n          onChange: e => setDescription(e.target.value),\n          placeholder: \"e.g., Dinner at Cafe X\",\n          className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"category\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"category\",\n          value: category,\n          onChange: e => setCategory(e.target.value),\n          className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border bg-white\",\n          children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cat,\n            children: cat\n          }, cat, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"amount\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Amount ($)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"amount\",\n          type: \"number\",\n          step: \"0.01\",\n          value: amount,\n          onChange: e => setAmount(e.target.value),\n          placeholder: \"0.00\",\n          className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"date\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"date\",\n          type: \"date\",\n          value: date,\n          onChange: e => setDate(e.target.value),\n          className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: `w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white transition duration-200 ease-in-out ${isExpense ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'}`,\n      disabled: !onAdd,\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        name: \"plus\",\n        className: \"w-5 h-5 mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 17\n      }, this), \"Record \", transactionType]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 409,\n    columnNumber: 9\n  }, this);\n};\n\n/**\n * NEW Component: Form dedicated to editing existing transactions.\n */\n_s3(TransactionForm, \"OgUiXyqPcTv7eAtsFfFrSePHDyI=\");\n_c4 = TransactionForm;\nconst EditTransactionForm = ({\n  transaction,\n  onSave,\n  onCancel,\n  isUpdating\n}) => {\n  _s4();\n  // Initialize state with current transaction data\n  const [description, setDescription] = useState(transaction.description || '');\n  const [amount, setAmount] = useState(transaction.amount.toString());\n  const [category, setCategory] = useState(transaction.category || CATEGORIES[transaction.type][0]);\n  const [date, setDate] = useState(transaction.date || new Date().toISOString().split('T')[0]);\n  const [error, setError] = useState(null);\n  const isExpense = transaction.type === TransactionType.Expense;\n  const categories = CATEGORIES[transaction.type];\n  const handleSubmit = e => {\n    e.preventDefault();\n    setError(null);\n    const parsedAmount = parseFloat(amount);\n    if (!description.trim() || parsedAmount <= 0 || isNaN(parsedAmount)) {\n      setError(\"Please enter a valid description and positive amount.\");\n      return;\n    }\n    const updatedTransaction = {\n      description: description.trim(),\n      amount: parsedAmount,\n      // Firestore will handle parsing this\n      type: transaction.type,\n      category: category,\n      date: date\n    };\n    onSave(transaction.id, updatedTransaction);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-sm italic\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"description\",\n          type: \"text\",\n          value: description,\n          onChange: e => setDescription(e.target.value),\n          placeholder: \"e.g., Dinner at Cafe X\",\n          className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"category\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"category\",\n          value: category,\n          onChange: e => setCategory(e.target.value),\n          className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border bg-white\",\n          children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cat,\n            children: cat\n          }, cat, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"amount\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Amount ($)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"amount\",\n          type: \"number\",\n          step: \"0.01\",\n          value: amount,\n          onChange: e => setAmount(e.target.value),\n          placeholder: \"0.00\",\n          className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"date\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"date\",\n          type: \"date\",\n          value: date,\n          onChange: e => setDate(e.target.value),\n          className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-4 flex justify-end space-x-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onCancel,\n        className: \"py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-100 transition\",\n        disabled: isUpdating,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: `py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white transition duration-200 ease-in-out ${isUpdating ? 'bg-indigo-400' : 'bg-indigo-600 hover:bg-indigo-700'}`,\n        disabled: isUpdating,\n        children: isUpdating ? 'Saving...' : 'Save Changes'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 516,\n    columnNumber: 9\n  }, this);\n};\n_s4(EditTransactionForm, \"l70bf0iTzwdBbYsyCbvNaN3E8ok=\");\n_c5 = EditTransactionForm;\nconst TransactionListRow = ({\n  transaction,\n  onDelete,\n  isDeleting,\n  setDeletionTarget,\n  onEdit\n}) => {\n  // Added onEdit\n  const isDummy = transaction.id.startsWith('d');\n  if (!transaction) return null;\n  const isExpense = transaction.type === TransactionType.Expense;\n  const amountColor = isExpense ? 'text-red-600' : 'text-green-600';\n  const sign = isExpense ? '-' : '+';\n  const formattedAmount = `${sign}$${Math.abs(transaction.amount).toFixed(2)}`;\n  const handleDeleteClick = () => {\n    if (!isDummy) {\n      setDeletionTarget({\n        id: transaction.id,\n        description: transaction.description\n      });\n    }\n  };\n  const handleEditClick = () => {\n    // NEW Edit Handler\n    if (!isDummy) {\n      onEdit(transaction);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-between p-3 border-b border-gray-100 last:border-b-0 hover:bg-gray-50 transition duration-150 ease-in-out\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col flex-grow truncate\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-semibold text-gray-800 truncate\",\n        children: [transaction.description || 'No Description', isDummy && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-2 text-xs font-normal text-indigo-400\",\n          children: \"(Demo)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm text-gray-500\",\n        children: [transaction.category, \" \\u2022 \", transaction.date]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `font-mono font-bold text-lg ${amountColor} flex-shrink-0 ml-4`,\n      children: formattedAmount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleEditClick,\n      className: `ml-3 p-1 rounded-full text-gray-400 hover:text-indigo-500 hover:bg-indigo-50 transition duration-150 flex-shrink-0 ${isDummy ? 'opacity-50 cursor-not-allowed' : ''}`,\n      \"aria-label\": \"Edit transaction\",\n      disabled: isDummy,\n      children: /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"edit\",\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDeleteClick,\n      className: `ml-3 p-1 rounded-full text-gray-400 hover:text-red-500 hover:bg-red-50 transition duration-150 flex-shrink-0 ${isDummy ? 'opacity-50 cursor-not-allowed' : ''} ${isDeleting ? 'animate-pulse' : ''}`,\n      \"aria-label\": \"Delete transaction\",\n      disabled: isDummy || isDeleting,\n      children: /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"x\",\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 648,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 642,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 620,\n    columnNumber: 9\n  }, this);\n};\n_c6 = TransactionListRow;\nconst TransactionTable = ({\n  transactions,\n  title,\n  onDelete,\n  isDeleting,\n  setDeletionTarget,\n  hideHeader = false,\n  onEdit,\n  setEditingTransaction\n}) => {\n  // Added onEdit/setEditingTransaction\n  if (transactions.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10 text-gray-500 bg-white rounded-xl shadow\",\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        name: \"transactions\",\n        className: \"w-10 h-10 mx-auto mb-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-semibold\",\n        children: \"No transactions found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow overflow-hidden\",\n    children: [!hideHeader && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-b text-lg font-semibold text-gray-800 bg-gray-50\",\n      children: [title, \" (\", transactions.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-h-96 overflow-y-auto\",\n      children: transactions.map(t => /*#__PURE__*/_jsxDEV(TransactionListRow, {\n        transaction: t,\n        onDelete: onDelete,\n        isDeleting: isDeleting,\n        setDeletionTarget: setDeletionTarget,\n        onEdit: setEditingTransaction // Pass modal setter as onEdit handler\n      }, t.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 671,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 665,\n    columnNumber: 9\n  }, this);\n};\n_c7 = TransactionTable;\nconst SummaryCard = ({\n  title,\n  value,\n  icon,\n  colorClass\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-5 rounded-xl shadow-md border-b-4 border-gray-100 transition duration-300 hover:shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm font-medium text-gray-500\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-2 rounded-full ${colorClass} bg-opacity-10`,\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          name: icon,\n          className: `w-6 h-6 ${colorClass}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 690,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `mt-1 text-3xl font-bold ${colorClass}`,\n      children: [\"$\", value.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 696,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 689,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Page Components ---\n_c8 = SummaryCard;\nconst Sidebar = ({\n  currentPage,\n  setCurrentPage,\n  userId\n}) => {\n  const navItems = [{\n    name: PAGES.DASHBOARD,\n    icon: 'dashboard'\n  }, {\n    name: PAGES.INCOME,\n    icon: 'income'\n  }, {\n    name: PAGES.EXPENSE,\n    icon: 'expense'\n  }, {\n    name: PAGES.TRANSACTIONS,\n    icon: 'transactions'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-64 bg-white shadow-xl fixed lg:static flex flex-col p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-2xl font-extrabold text-indigo-700 mb-8 p-2\",\n      children: \"Expense Tracker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 717,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center mb-10 p-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://placehold.co/40x40/5b21b6/ffffff?text=U\",\n        alt: \"User Avatar\",\n        className: \"rounded-full mr-3\",\n        onError: e => {\n          e.target.onerror = null;\n          e.target.src = \"https://placehold.co/40x40/5b21b6/ffffff?text=U\";\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold text-gray-800\",\n          children: \"Mike William\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500 truncate\",\n          title: userId,\n          children: [\"ID: \", userId ? userId.substring(0, 8) + '...' : 'Loading']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 724,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"flex-grow space-y-2\",\n      children: navItems.map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentPage(item.name),\n        className: `flex items-center w-full p-3 rounded-xl font-semibold transition duration-200 ${currentPage === item.name ? 'bg-indigo-500 text-white shadow-lg' : 'text-gray-600 hover:bg-gray-100 hover:text-indigo-600'}`,\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          name: item.icon,\n          className: \"w-5 h-5 mr-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 25\n        }, this), item.name]\n      }, item.name, true, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 733,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"flex items-center w-full p-3 mt-4 rounded-xl text-red-500 hover:bg-red-50 font-semibold transition duration-200\",\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        name: \"logout\",\n        className: \"w-5 h-5 mr-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 752,\n        columnNumber: 17\n      }, this), \"Logout\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 751,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 715,\n    columnNumber: 9\n  }, this);\n};\n_c9 = Sidebar;\nconst DashboardContent = ({\n  transactions,\n  loading\n}) => {\n  _s5();\n  const {\n    incomeTotal,\n    expenseTotal,\n    netBalance\n  } = useMemo(() => {\n    const income = transactions.filter(t => t.type === TransactionType.Income).reduce((sum, t) => sum + t.amount, 0);\n    const expense = transactions.filter(t => t.type === TransactionType.Expense).reduce((sum, t) => sum + t.amount, 0);\n    const balance = income - expense;\n    return {\n      incomeTotal: income,\n      expenseTotal: expense,\n      netBalance: balance\n    };\n  }, [transactions]);\n  const recentTransactions = transactions.slice(0, 5); // Show only the 5 most recent\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Dashboard Overview\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 772,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500\",\n      children: \"Quick financial snapshot and recent activity.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(SummaryCard, {\n        title: \"Net Balance\",\n        value: netBalance,\n        icon: \"money\",\n        colorClass: netBalance >= 0 ? 'text-green-600' : 'text-red-600'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 777,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SummaryCard, {\n        title: \"Total Income\",\n        value: incomeTotal,\n        icon: \"income\",\n        colorClass: \"text-indigo-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 778,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SummaryCard, {\n        title: \"Total Expense\",\n        value: expenseTotal,\n        icon: \"expense\",\n        colorClass: \"text-red-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 779,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 776,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2\",\n        children: /*#__PURE__*/_jsxDEV(BarChartOverview, {\n          data: DUMMY_CHART_DATA.slice(0, 6),\n          type: TransactionType.Income,\n          title: \"Income Trend (6 Months)\",\n          subtitle: \"Income overview for the last half-year.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 786,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 785,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-1\",\n        children: /*#__PURE__*/_jsxDEV(TransactionTable, {\n          transactions: recentTransactions,\n          title: \"Recent Transactions\",\n          hideHeader: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 794,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 771,\n    columnNumber: 9\n  }, this);\n};\n_s5(DashboardContent, \"NVjS5gi5bsFI5FY9SoxUFgA9KS8=\");\n_c0 = DashboardContent;\nconst IncomePage = ({\n  transactions,\n  onAdd\n}) => {\n  _s6();\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const incomeTransactions = transactions.filter(t => t.type === TransactionType.Income);\n  const handleAdd = data => {\n    onAdd(data);\n    setIsFormOpen(false); // Close modal after successful add\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Income Overview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setIsFormOpen(true);\n        },\n        className: \"flex items-center py-2 px-4 rounded-lg bg-indigo-600 text-white font-semibold shadow-md hover:bg-indigo-700 transition\",\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          name: \"plus\",\n          className: \"w-5 h-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 825,\n          columnNumber: 21\n        }, this), \"Add Income\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 819,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 817,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500\",\n      children: \"Track your earnings over time and analyze your Income trends.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 829,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BarChartOverview, {\n      data: DUMMY_CHART_DATA,\n      type: TransactionType.Income,\n      title: \"Income Flowchart (12 Months)\",\n      subtitle: \"Monthly income totals for the past year.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 832,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold text-gray-800 pt-4\",\n      children: \"Income Sources\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 840,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TransactionTable, {\n      transactions: incomeTransactions,\n      title: \"Detailed Income List\",\n      hideHeader: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 841,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CustomModal, {\n      isOpen: isFormOpen,\n      title: \"Record New Income\",\n      message: /*#__PURE__*/_jsxDEV(TransactionForm, {\n        onAdd: handleAdd,\n        transactionType: TransactionType.Income,\n        setTransactionType: () => {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 851,\n        columnNumber: 26\n      }, this),\n      onConfirm: () => setIsFormOpen(false) // This button is hidden by form's submit button\n      ,\n      onCancel: () => setIsFormOpen(false),\n      isConfirm: false // Use the form's submit button instead of a modal confirm button\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 848,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 816,\n    columnNumber: 9\n  }, this);\n};\n_s6(IncomePage, \"asAwb8eD/fI3Oiy8QXktl+x26GQ=\");\n_c1 = IncomePage;\nconst ExpensePage = ({\n  transactions,\n  onAdd\n}) => {\n  _s7();\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const expenseTransactions = transactions.filter(t => t.type === TransactionType.Expense);\n  const handleAdd = data => {\n    onAdd(data);\n    setIsFormOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Expense Overview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 872,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setIsFormOpen(true);\n        },\n        className: \"flex items-center py-2 px-4 rounded-lg bg-red-600 text-white font-semibold shadow-md hover:bg-red-700 transition\",\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          name: \"plus\",\n          className: \"w-5 h-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 21\n        }, this), \"Add Expense\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 873,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 871,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500\",\n      children: \"Analyze where your money is going and track your spending habits.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 883,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BarChartOverview, {\n      data: DUMMY_CHART_DATA,\n      type: TransactionType.Expense,\n      title: \"Expense Flowchart (12 Months)\",\n      subtitle: \"Monthly expense totals for the past year.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 886,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold text-gray-800 pt-4\",\n      children: \"Recent Expenses\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 894,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TransactionTable, {\n      transactions: expenseTransactions,\n      title: \"Detailed Expense List\",\n      hideHeader: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 895,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CustomModal, {\n      isOpen: isFormOpen,\n      title: \"Record New Expense\",\n      message: /*#__PURE__*/_jsxDEV(TransactionForm, {\n        onAdd: handleAdd,\n        transactionType: TransactionType.Expense,\n        setTransactionType: () => {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 905,\n        columnNumber: 26\n      }, this),\n      onConfirm: () => setIsFormOpen(false),\n      onCancel: () => setIsFormOpen(false),\n      isConfirm: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 902,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 870,\n    columnNumber: 9\n  }, this);\n};\n_s7(ExpensePage, \"asAwb8eD/fI3Oiy8QXktl+x26GQ=\");\n_c10 = ExpensePage;\nconst AllTransactionsPage = ({\n  transactions,\n  onDelete,\n  isDeleting,\n  setDeletionTarget,\n  setEditingTransaction\n}) => {\n  _s8();\n  // Added setEditingTransaction\n  const [filterMonth, setFilterMonth] = useState(''); // YYYY-MM\n  const [filterType, setFilterType] = useState('All'); // Income, Expense, All\n  const [filterCategory, setFilterCategory] = useState('All'); // Category name or All\n\n  // 1. Filtering Logic\n  const filteredTransactions = useMemo(() => {\n    return transactions.filter(t => {\n      // Filter by Type (Income/Expense)\n      if (filterType !== 'All' && t.type !== filterType) {\n        return false;\n      }\n\n      // Filter by Category\n      if (filterCategory !== 'All' && t.category !== filterCategory) {\n        return false;\n      }\n\n      // Filter by Month (YYYY-MM)\n      if (filterMonth && t.date.substring(0, 7) !== filterMonth) {\n        return false;\n      }\n      return true;\n    });\n  }, [transactions, filterMonth, filterType, filterCategory]);\n\n  // 2. Dynamic Chart Data Generation (Based on Search/Filter)\n  const filteredChartData = useMemo(() => {\n    if (!filteredTransactions.length) return [];\n\n    // Group filtered transactions by category and calculate total amount\n    const categoryTotals = filteredTransactions.reduce((acc, t) => {\n      const amount = t.type === TransactionType.Expense ? t.amount : -t.amount; // Use negative for income if mixed, or just absolute for category spend\n      acc[t.category] = (acc[t.category] || 0) + Math.abs(amount);\n      return acc;\n    }, {});\n\n    // Convert to a chart-friendly format (mimicking BarChartOverview data structure)\n    return Object.keys(categoryTotals).map(category => ({\n      label: category,\n      [TransactionType.Expense.toLowerCase()]: categoryTotals[category],\n      // Assume Expense is the primary focus for search-based grouping\n      [TransactionType.Income.toLowerCase()]: categoryTotals[category]\n    }));\n  }, [filteredTransactions]);\n\n  // Determine the type for the dynamic chart visualization (If only one type is filtered, use that color)\n  const chartType = filterType === TransactionType.Income ? TransactionType.Income : TransactionType.Expense;\n\n  // Get unique months and categories for dropdowns\n  const availableMonths = useMemo(() => {\n    const months = new Set();\n    transactions.forEach(t => months.add(t.date.substring(0, 7)));\n    return ['All', ...Array.from(months).sort().reverse()];\n  }, [transactions]);\n  const availableCategories = useMemo(() => {\n    const cats = new Set();\n    if (filterType === 'All') {\n      Object.values(CATEGORIES).flat().forEach(cat => cats.add(cat));\n    } else {\n      CATEGORIES[filterType].forEach(cat => cats.add(cat));\n    }\n    return ['All', ...Array.from(cats).sort()];\n  }, [filterType]);\n\n  // Use a simplified version of the BarChartOverview for this dynamic display\n  const CategoryBarChart = ({\n    data\n  }) => {\n    if (!data.length) return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10 text-gray-500\",\n      children: \"No data for chart.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 983,\n      columnNumber: 34\n    }, this);\n    const chartKey = chartType.toLowerCase();\n    const color = chartType === TransactionType.Income ? 'bg-indigo-500' : 'bg-red-500';\n    const maxVal = Math.max(...data.map(d => d[chartKey]));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-700\",\n        children: \"Category Breakdown Chart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 991,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow space-y-3\",\n        children: data.sort((a, b) => b[chartKey] - a[chartKey]).map((item, index) => {\n          const width = maxVal > 0 ? item[chartKey] / maxVal * 100 : 0;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium w-24 flex-shrink-0\",\n              children: [item.label, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 997,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 bg-gray-100 rounded-full h-4 relative\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `h-4 rounded-full ${color} transition-all duration-700`,\n                style: {\n                  width: `${width}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 999,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 998,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-semibold w-20 text-right flex-shrink-0\",\n              children: [\"$\", item[chartKey].toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1004,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 996,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 992,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 990,\n      columnNumber: 14\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"All Transactions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1015,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500\",\n      children: \"View, search, and filter all your recorded financial movements.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1016,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-xl shadow-lg border-2 border-indigo-100 space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-indigo-800\",\n        children: \"Search Transactions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1020,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Month\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1024,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filterMonth,\n            onChange: e => setFilterMonth(e.target.value),\n            className: \"mt-1 block w-full rounded-md border-gray-300 p-2 border bg-white\",\n            children: availableMonths.map(month => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: month,\n              children: month === 'All' ? 'All Months' : month\n            }, month, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1029,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1025,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1023,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1036,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filterType,\n            onChange: e => {\n              setFilterType(e.target.value);\n              setFilterCategory('All');\n            },\n            className: \"mt-1 block w-full rounded-md border-gray-300 p-2 border bg-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"All\",\n              children: \"All Types\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1040,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: TransactionType.Income,\n              children: \"Income\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1041,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: TransactionType.Expense,\n              children: \"Expense\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1042,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1037,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1035,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1048,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filterCategory,\n            onChange: e => setFilterCategory(e.target.value),\n            className: \"mt-1 block w-full rounded-md border-gray-300 p-2 border bg-white\",\n            children: availableCategories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cat,\n              children: cat === 'All' ? 'All Categories' : cat\n            }, cat, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1053,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1049,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1047,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full flex justify-center items-center py-2 px-4 rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-500 hover:bg-indigo-600 transition\",\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              name: \"search\",\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1060,\n              columnNumber: 30\n            }, this), \"Apply Filters\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1059,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1021,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1019,\n      columnNumber: 13\n    }, this), filteredTransactions.length > 0 && /*#__PURE__*/_jsxDEV(CategoryBarChart, {\n      data: filteredChartData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1069,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(TransactionTable, {\n      transactions: filteredTransactions,\n      title: \"Search Results\",\n      onDelete: onDelete,\n      isDeleting: isDeleting,\n      setDeletionTarget: setDeletionTarget,\n      setEditingTransaction: setEditingTransaction // Pass through to table\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1073,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1014,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Main Application Layout ---\n_s8(AllTransactionsPage, \"MA6eOowDu9n/jG1A+jnp1hnklUE=\");\n_c11 = AllTransactionsPage;\nconst AppLayout = ({\n  transactions,\n  onAdd,\n  onDelete,\n  userId,\n  loading,\n  isDeleting,\n  setDeletionTarget,\n  setEditingTransaction\n}) => {\n  _s9();\n  // Added setEditingTransaction\n  const [currentPage, setCurrentPage] = useState(PAGES.DASHBOARD);\n  const renderPage = () => {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-20 text-indigo-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"animate-spin h-10 w-10 text-indigo-500 mx-auto\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n            className: \"opacity-25\",\n            cx: \"12\",\n            cy: \"12\",\n            r: \"10\",\n            stroke: \"currentColor\",\n            strokeWidth: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1096,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            className: \"opacity-75\",\n            fill: \"currentColor\",\n            d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1097,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1095,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-lg font-semibold\",\n          children: \"Loading financial data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1099,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1094,\n        columnNumber: 18\n      }, this);\n    }\n    switch (currentPage) {\n      case PAGES.DASHBOARD:\n        return /*#__PURE__*/_jsxDEV(DashboardContent, {\n          transactions: transactions,\n          loading: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1106,\n          columnNumber: 24\n        }, this);\n      case PAGES.INCOME:\n        return /*#__PURE__*/_jsxDEV(IncomePage, {\n          transactions: transactions,\n          onAdd: onAdd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1108,\n          columnNumber: 24\n        }, this);\n      case PAGES.EXPENSE:\n        return /*#__PURE__*/_jsxDEV(ExpensePage, {\n          transactions: transactions,\n          onAdd: onAdd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1110,\n          columnNumber: 24\n        }, this);\n      case PAGES.TRANSACTIONS:\n        return /*#__PURE__*/_jsxDEV(AllTransactionsPage, {\n          transactions: transactions,\n          onDelete: onDelete,\n          isDeleting: isDeleting,\n          setDeletionTarget: setDeletionTarget,\n          setEditingTransaction: setEditingTransaction // Pass through to AllTransactionsPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1112,\n          columnNumber: 24\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(DashboardContent, {\n          transactions: transactions,\n          loading: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1120,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex min-h-screen bg-gray-50 font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hidden lg:block\",\n      children: /*#__PURE__*/_jsxDEV(Sidebar, {\n        currentPage: currentPage,\n        setCurrentPage: setCurrentPage,\n        userId: userId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1128,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1127,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 p-4 sm:p-8 lg:ml-64 lg:p-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:hidden flex justify-between items-center mb-6 p-4 bg-white rounded-xl shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-bold text-indigo-700\",\n          children: \"Tracker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: currentPage,\n          onChange: e => setCurrentPage(e.target.value),\n          className: \"p-2 border rounded-lg bg-white\",\n          children: Object.values(PAGES).map(page => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: page,\n            children: page\n          }, page, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1142,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1136,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1134,\n        columnNumber: 17\n      }, this), renderPage()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1132,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1125,\n    columnNumber: 9\n  }, this);\n};\n_s9(AppLayout, \"x27hsGdhBRPcHL+KWJ1OP/9XrAA=\");\n_c12 = AppLayout;\nconst App = () => {\n  _s0();\n  // Firebase Hooks\n  const {\n    db,\n    auth,\n    userId,\n    isAuthReady\n  } = useFirebase();\n  const {\n    transactions,\n    loading,\n    error\n  } = useTransactions(db, userId, isAuthReady);\n\n  // Deletion State\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [deletionTarget, setDeletionTarget] = useState(null); // { id, description }\n\n  // NEW: Editing State\n  const [editingTransaction, setEditingTransaction] = useState(null); // {id, description, amount, etc.}\n  const [isUpdating, setIsUpdating] = useState(false);\n\n  // Handler to add a transaction\n  const handleAddTransaction = useCallback(data => {\n    addTransaction(db, userId, data);\n  }, [db, userId]);\n\n  // NEW: Handler to update a transaction\n  const handleUpdateTransaction = useCallback(async (transactionId, data) => {\n    setIsUpdating(true);\n    // We close the modal instantly as updates are near-instantaneous with Firestore\n    setEditingTransaction(null);\n    try {\n      await updateTransaction(db, userId, transactionId, data);\n    } catch (e) {\n      console.error(\"Update failed:\", e);\n    } finally {\n      setIsUpdating(false);\n    }\n  }, [db, userId]);\n\n  // Handler for deleting a transaction (triggered by modal confirm)\n  const handleConfirmDelete = async () => {\n    if (deletionTarget && !isDeleting) {\n      setIsDeleting(true);\n      try {\n        await deleteTransaction(db, userId, deletionTarget.id);\n      } catch (e) {\n        console.error(\"Deletion failed:\", e);\n      } finally {\n        setIsDeleting(false);\n        setDeletionTarget(null);\n      }\n    }\n  };\n\n  // Main App Layout\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 font-sans\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-4 right-4 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-xl\",\n      role: \"alert\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        className: \"font-bold\",\n        children: \"Database Error: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1205,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"block sm:inline\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1206,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1204,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(AppLayout, {\n      transactions: transactions,\n      onAdd: handleAddTransaction,\n      onDelete: handleConfirmDelete,\n      userId: userId,\n      loading: loading,\n      isDeleting: isDeleting,\n      setDeletionTarget: setDeletionTarget,\n      setEditingTransaction: setEditingTransaction // Pass setter to AppLayout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1210,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CustomModal, {\n      isOpen: !!deletionTarget,\n      title: \"Confirm Deletion\",\n      message: `Are you sure you want to permanently delete the transaction: \"${deletionTarget === null || deletionTarget === void 0 ? void 0 : deletionTarget.description}\"? This action cannot be undone.`,\n      onConfirm: handleConfirmDelete,\n      onCancel: () => setDeletionTarget(null),\n      isConfirm: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1222,\n      columnNumber: 13\n    }, this), editingTransaction && /*#__PURE__*/_jsxDEV(CustomModal, {\n      isOpen: !!editingTransaction,\n      title: `Edit ${editingTransaction.type} Transaction`,\n      message: /*#__PURE__*/_jsxDEV(EditTransactionForm, {\n        transaction: editingTransaction,\n        onSave: handleUpdateTransaction,\n        onCancel: () => setEditingTransaction(null),\n        isUpdating: isUpdating\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1237,\n        columnNumber: 25\n      }, this),\n      onConfirm: () => {},\n      onCancel: () => setEditingTransaction(null),\n      isConfirm: false // Custom form handles buttons\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1233,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1202,\n    columnNumber: 9\n  }, this);\n};\n_s0(App, \"U6b0aj8trYjYRZgT8s1PLMA4Z1c=\", false, function () {\n  return [useFirebase, useTransactions];\n});\n_c13 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13;\n$RefreshReg$(_c, \"Icon\");\n$RefreshReg$(_c2, \"CustomModal\");\n$RefreshReg$(_c3, \"BarChartOverview\");\n$RefreshReg$(_c4, \"TransactionForm\");\n$RefreshReg$(_c5, \"EditTransactionForm\");\n$RefreshReg$(_c6, \"TransactionListRow\");\n$RefreshReg$(_c7, \"TransactionTable\");\n$RefreshReg$(_c8, \"SummaryCard\");\n$RefreshReg$(_c9, \"Sidebar\");\n$RefreshReg$(_c0, \"DashboardContent\");\n$RefreshReg$(_c1, \"IncomePage\");\n$RefreshReg$(_c10, \"ExpensePage\");\n$RefreshReg$(_c11, \"AllTransactionsPage\");\n$RefreshReg$(_c12, \"AppLayout\");\n$RefreshReg$(_c13, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","initializeApp","getAuth","signInAnonymously","signInWithCustomToken","onAuthStateChanged","getFirestore","collection","onSnapshot","query","where","doc","setDoc","updateDoc","deleteDoc","getDocs","addDoc","jsxDEV","_jsxDEV","PAGES","DASHBOARD","INCOME","EXPENSE","TRANSACTIONS","TransactionType","Income","Expense","CATEGORIES","DUMMY_CHART_DATA","label","income","expense","DUMMY_TRANSACTIONS","id","type","category","amount","date","description","Icon","name","className","getPath","xmlns","fill","viewBox","strokeWidth","stroke","children","strokeLinecap","strokeLinejoin","d","fileName","_jsxFileName","lineNumber","columnNumber","_c","CustomModal","isOpen","title","message","onConfirm","onCancel","isConfirm","onClick","_c2","BarChartOverview","data","subtitle","isIncome","color","chartKey","maxVal","Math","max","map","yAxisLabels","toFixed","index","item","heightPercentage","style","height","minHeight","_c3","useFirebase","_s","db","setDb","auth","setAuth","userId","setUserId","isAuthReady","setIsAuthReady","appId","__app_id","firebaseConfig","JSON","parse","__firebase_config","Object","keys","length","console","error","app","firestoreDb","firebaseAuth","authSetup","token","__initial_auth_token","unsubscribe","user","uid","log","newUserId","crypto","randomUUID","e","useTransactions","_s2","transactions","setTransactions","loading","setLoading","setError","transactionsPath","q","snapshot","fetchedTransactions","forEach","push","sort","a","b","Date","finalTransactions","err","addTransaction","transactionData","docRef","parseFloat","toISOString","split","deleteTransaction","transactionId","docPath","startsWith","warn","updateTransaction","updatedData","dataToUpdate","TransactionForm","onAdd","transactionType","setTransactionType","_s3","setDescription","setAmount","setCategory","setDate","handleSubmit","preventDefault","parsedAmount","trim","isNaN","newTransaction","isExpense","categories","onSubmit","htmlFor","value","onChange","target","placeholder","required","cat","step","disabled","_c4","EditTransactionForm","transaction","onSave","isUpdating","_s4","toString","updatedTransaction","_c5","TransactionListRow","onDelete","isDeleting","setDeletionTarget","onEdit","isDummy","amountColor","sign","formattedAmount","abs","handleDeleteClick","handleEditClick","_c6","TransactionTable","hideHeader","setEditingTransaction","t","_c7","SummaryCard","icon","colorClass","_c8","Sidebar","currentPage","setCurrentPage","navItems","src","alt","onError","onerror","substring","_c9","DashboardContent","_s5","incomeTotal","expenseTotal","netBalance","filter","reduce","sum","balance","recentTransactions","slice","_c0","IncomePage","_s6","isFormOpen","setIsFormOpen","incomeTransactions","handleAdd","_c1","ExpensePage","_s7","expenseTransactions","_c10","AllTransactionsPage","_s8","filterMonth","setFilterMonth","filterType","setFilterType","filterCategory","setFilterCategory","filteredTransactions","filteredChartData","categoryTotals","acc","toLowerCase","chartType","availableMonths","months","Set","add","Array","from","reverse","availableCategories","cats","values","flat","CategoryBarChart","width","month","_c11","AppLayout","_s9","renderPage","cx","cy","r","page","_c12","App","_s0","setIsDeleting","deletionTarget","editingTransaction","setIsUpdating","handleAddTransaction","handleUpdateTransaction","handleConfirmDelete","role","_c13","$RefreshReg$"],"sources":["C:/Users/harsh/Desktop/expense/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from 'firebase/auth';\nimport { getFirestore, collection, onSnapshot, query, where, doc, setDoc, updateDoc, deleteDoc, getDocs, addDoc } from 'firebase/firestore';\n\n// --- Constants & Config ---\nconst PAGES = {\n    DASHBOARD: 'Dashboard',\n    INCOME: 'Income',\n    EXPENSE: 'Expense',\n    TRANSACTIONS: 'All Transactions',\n};\n\nconst TransactionType = {\n    Income: 'Income',\n    Expense: 'Expense',\n};\n\nconst CATEGORIES = {\n    [TransactionType.Income]: ['Salary', 'Freelance', 'Investment'],\n    [TransactionType.Expense]: ['Groceries', 'Rent', 'Utilities', 'Fun', 'Transport', 'Food', 'Shopping'],\n};\n\n// Dummy data for charts (mimicking monthly aggregates)\nconst DUMMY_CHART_DATA = [\n    { label: 'Jan', income: 12000, expense: 6500 },\n    { label: 'Feb', income: 9500, expense: 7800 },\n    { label: 'Mar', income: 14000, expense: 5000 },\n    { label: 'Apr', income: 7500, expense: 6000 },\n    { label: 'May', income: 11000, expense: 4500 },\n    { label: 'Jun', income: 9000, expense: 7000 },\n    { label: 'Jul', income: 10500, expense: 4200 },\n    { label: 'Aug', income: 13000, expense: 5800 },\n    { label: 'Sep', income: 8000, expense: 6200 },\n    { label: 'Oct', income: 10800, expense: 5300 },\n    { label: 'Nov', income: 9200, expense: 6800 },\n    { label: 'Dec', income: 11500, expense: 4900 },\n];\n\nconst DUMMY_TRANSACTIONS = [\n    { id: 'd1', type: TransactionType.Income, category: 'Salary', amount: 3500, date: '2025-09-28', description: 'Monthly Paycheck' },\n    { id: 'd2', type: TransactionType.Expense, category: 'Rent', amount: 1200, date: '2025-09-29', description: 'Apartment Rent' },\n    { id: 'd3', type: TransactionType.Expense, category: 'Groceries', amount: 150, date: '2025-09-30', description: 'Weekly Shopping' },\n    { id: 'd4', type: TransactionType.Income, category: 'Freelance', amount: 500, date: '2025-10-01', description: 'Project Zeus Payment' },\n    { id: 'd5', type: TransactionType.Expense, category: 'Fun', amount: 50, date: '2025-10-01', description: 'Coffee with friends' },\n];\n\n\n// --- Utility Components (Icons) ---\nconst Icon = ({ name, className = \"w-5 h-5\" }) => {\n    const getPath = (name) => {\n        switch (name) {\n            case 'plus':\n                return \"M12 4.5v15m7.5-7.5h-15\";\n            case 'x':\n                return \"M6 18L18 6M6 6l12 12\";\n            case 'dashboard':\n                return \"M2.25 10.5h19.5m-19.5 0h19.5m-19.5 0v3.75a2.25 2.25 0 002.25 2.25h14.25a2.25 2.25 0 002.25-2.25v-3.75m-19.5 0h19.5m-9.75 0V3.75M12 10.5V3.75\";\n            case 'income':\n                return \"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 014.288-1.743l.534-.143l2.842 2.842L21.75 18m-17.5-6.75l7.5-7.5m-6 6h10.5\";\n            case 'expense':\n                return \"M2.25 6L9 12.75l4.306-4.307a11.95 11.95 0 014.288 1.743l.534.143 2.842-2.842L21.75 6m-17.5 6.75l7.5 7.5m-6-6h10.5\";\n            case 'logout':\n                return \"M5.636 4.636l1.25 1.25m4.38-4.38l-1.25 1.25M6.886 16.886l-1.25 1.25m4.38 4.38l-1.25-1.25m-1.75-9a8 8 0 1116 0A8 8 0 013.636 12z\";\n            case 'transactions':\n                return \"M19.5 12h-15m0 0l6.75-6.75M4.5 12l6.75 6.75m1.5 6h15m0 0l-6.75-6.75m6.75 6.75l-6.75-6.75\";\n            case 'search':\n                return \"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z\";\n            case 'download':\n                return \"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75v-2.25M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3\";\n            case 'alert':\n                return \"M12 9v3.75M10.375 21V3.25M13.625 21V3.25m3.375 9.75v-5.5M7 13v-1.5M17 18.5v-11M7 6.5v11\";\n            case 'edit': // NEW: Edit icon\n                return \"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 18.07a4.5 4.5 0 01-1.897 1.13L6.342 19.95a1.875 1.875 0 01-2.327-2.327l1.13-2.956a4.5 4.5 0 011.13-1.897l8.932-8.932z\";\n            case 'info':\n                return \"M12 11.25V9m0 3.75h.008M21 12a9 9 0 11-18 0 9 9 0 0118 0z\";\n            default:\n                return \"\";\n        }\n    };\n\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className={className}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d={getPath(name)} />\n        </svg>\n    );\n};\n\n// --- Custom Modal/Alert Component (Replacing alert/confirm) ---\nconst CustomModal = ({ isOpen, title, message, onConfirm, onCancel, isConfirm = false }) => {\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-xl shadow-2xl max-w-sm w-full transform transition-all duration-300 scale-100\">\n                <div className=\"p-6\">\n                    <div className=\"flex items-center space-x-3\">\n                        <Icon name={isConfirm ? 'alert' : 'info'} className={`w-6 h-6 ${isConfirm ? 'text-red-500' : 'text-indigo-500'}`} />\n                        <h3 className=\"text-lg font-semibold text-gray-900\">{title}</h3>\n                    </div>\n                    {/* Render message directly if it's a JSX element (like a form) */}\n                    {typeof message === 'string' ? (\n                         <p className=\"mt-2 text-sm text-gray-500\">{message}</p>\n                    ) : (\n                        <div className=\"mt-4\">{message}</div>\n                    )}\n                </div>\n                {/* Only show modal action buttons if it's not holding a form that has its own buttons */}\n                {isConfirm && (\n                    <div className=\"p-4 bg-gray-50 flex justify-end space-x-3 rounded-b-xl\">\n                        <button\n                            onClick={onCancel}\n                            className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 transition\"\n                        >\n                            Cancel\n                        </button>\n                        <button\n                            onClick={onConfirm}\n                            className={`px-4 py-2 text-sm font-medium text-white rounded-lg transition bg-red-600 hover:bg-red-700`}\n                        >\n                            Delete\n                        </button>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\n// --- Chart Component (Dummy Visualization) ---\nconst BarChartOverview = ({ data, type, title, subtitle }) => {\n    const isIncome = type === TransactionType.Income;\n    const color = isIncome ? 'bg-indigo-500' : 'bg-red-500';\n    const chartKey = isIncome ? 'income' : 'expense';\n    \n    // Find the max value to scale the bars\n    const maxVal = Math.max(...data.map(d => d[chartKey]));\n    const yAxisLabels = [maxVal.toFixed(0), (maxVal * 0.75).toFixed(0), (maxVal * 0.5).toFixed(0), (maxVal * 0.25).toFixed(0), 0];\n\n    return (\n        <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\n            <div className=\"flex justify-between items-center mb-4\">\n                <div>\n                    <h2 className=\"text-xl font-bold text-gray-800\">{title}</h2>\n                    <p className=\"text-sm text-gray-500\">{subtitle}</p>\n                </div>\n                <button className=\"flex items-center text-sm text-indigo-600 hover:text-indigo-800 transition\">\n                    <Icon name=\"download\" className=\"w-4 h-4 mr-1\" />\n                    Download\n                </button>\n            </div>\n\n            <div className=\"flex h-64 border-b border-l border-gray-200 relative\">\n                {/* Y-Axis Labels */}\n                <div className=\"flex flex-col justify-between text-xs text-gray-500 pr-2\">\n                    {yAxisLabels.map((label, index) => (\n                        <span key={index} className=\"text-right h-4 -translate-y-1\">{label}</span>\n                    ))}\n                </div>\n\n                {/* Bars Area */}\n                <div className=\"flex flex-grow justify-around items-end space-x-2\">\n                    {data.map((item, index) => {\n                        const heightPercentage = maxVal > 0 ? (item[chartKey] / maxVal) * 100 : 0;\n                        return (\n                            <div key={index} className=\"flex flex-col items-center h-full w-full relative group\">\n                                <div\n                                    className={`w-3/5 rounded-t-lg transition-all duration-500 ease-out ${color}`}\n                                    style={{ height: `${heightPercentage}%`, minHeight: '5px' }}\n                                />\n                                {/* X-Axis Label */}\n                                <span className=\"absolute bottom-[-20px] text-xs text-gray-600 whitespace-nowrap\">\n                                    {item.label}\n                                </span>\n                                {/* Tooltip (simple) */}\n                                <div className=\"absolute top-0 transform -translate-y-full mb-1 p-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\">\n                                    ${item[chartKey].toFixed(0)}\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n            {/* Empty space for X-axis labels */}\n            <div className=\"h-5\"></div>\n        </div>\n    );\n};\n\n// --- Firebase Setup Context/Hooks (Unchanged but included for completeness) ---\nconst useFirebase = () => {\n    const [db, setDb] = useState(null);\n    const [auth, setAuth] = useState(null);\n    const [userId, setUserId] = useState(null);\n    const [isAuthReady, setIsAuthReady] = useState(false);\n\n    useEffect(() => {\n        try {\n            const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n            const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');\n\n            if (!firebaseConfig || Object.keys(firebaseConfig).length === 0) {\n                console.error(\"Firebase config is missing or empty.\");\n                return;\n            }\n\n            const app = initializeApp(firebaseConfig);\n            const firestoreDb = getFirestore(app);\n            const firebaseAuth = getAuth(app);\n\n            const authSetup = async () => {\n                const token = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;\n                try {\n                    if (token) {\n                        await signInWithCustomToken(firebaseAuth, token);\n                    } else {\n                        await signInAnonymously(firebaseAuth);\n                    }\n                } catch (error) {\n                    console.error(\"Firebase authentication error:\", error);\n                }\n            };\n\n            authSetup();\n\n            const unsubscribe = onAuthStateChanged(firebaseAuth, (user) => {\n                if (user) {\n                    setUserId(user.uid);\n                    setDb(firestoreDb);\n                    setAuth(firebaseAuth);\n                    setIsAuthReady(true);\n                    console.log(\"Firebase Auth Ready. User ID:\", user.uid);\n                } else {\n                    const newUserId = crypto.randomUUID();\n                    setUserId(newUserId);\n                    setDb(firestoreDb);\n                    setAuth(firebaseAuth);\n                    setIsAuthReady(true);\n                    console.log(\"Firebase Auth Ready (Anonymous/Fallback). User ID:\", newUserId);\n                }\n            });\n\n            return () => unsubscribe();\n        } catch (e) {\n            console.error(\"Firebase initialization failed:\", e);\n        }\n    }, []);\n\n    return { db, auth, userId, isAuthReady };\n};\n\n// --- Firebase Data Hook (Unchanged) ---\nconst useTransactions = (db, userId, isAuthReady) => {\n    const [transactions, setTransactions] = useState(DUMMY_TRANSACTIONS);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n\n    useEffect(() => {\n        if (!isAuthReady || !db || !userId) return;\n\n        setLoading(true);\n        setError(null);\n\n        const transactionsPath = `/artifacts/${appId}/users/${userId}/transactions`;\n        const q = query(collection(db, transactionsPath));\n\n        const unsubscribe = onSnapshot(q, (snapshot) => {\n            const fetchedTransactions = [];\n            snapshot.forEach((doc) => {\n                fetchedTransactions.push({ id: doc.id, ...doc.data() });\n            });\n            \n            fetchedTransactions.sort((a, b) => new Date(b.date) - new Date(a.date));\n            \n            // Merge dummy data with fetched data if fetched is empty or use only fetched data\n            const finalTransactions = fetchedTransactions.length > 0 ? fetchedTransactions : DUMMY_TRANSACTIONS;\n            setTransactions(finalTransactions);\n            setLoading(false);\n\n        }, (err) => {\n            console.error(\"Error fetching transactions:\", err);\n            setError(\"Failed to load transactions. Check console for details.\");\n            setTransactions(DUMMY_TRANSACTIONS);\n            setLoading(false);\n        });\n\n        return () => unsubscribe();\n    }, [db, userId, isAuthReady, appId]);\n\n    return { transactions, loading, error };\n};\n\n// --- Transaction Management Functions ---\n\nconst addTransaction = async (db, userId, transactionData) => {\n    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n    if (!db || !userId) {\n        console.error(\"Database or User ID not available for adding transaction.\");\n        return;\n    }\n    try {\n        const transactionsPath = `/artifacts/${appId}/users/${userId}/transactions`;\n        const docRef = await addDoc(collection(db, transactionsPath), {\n            ...transactionData,\n            amount: parseFloat(transactionData.amount),\n            date: transactionData.date || new Date().toISOString().split('T')[0],\n        });\n        console.log(\"Document written with ID: \", docRef.id);\n    } catch (e) {\n        console.error(\"Error adding document: \", e);\n    }\n};\n\nconst deleteTransaction = async (db, userId, transactionId) => {\n    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n    if (!db || !userId) {\n        console.error(\"Database or User ID not available for deleting transaction.\");\n        return;\n    }\n    try {\n        const docPath = `/artifacts/${appId}/users/${userId}/transactions/${transactionId}`;\n        if (!transactionId.startsWith('d')) {\n             await deleteDoc(doc(db, docPath));\n             console.log(\"Document successfully deleted: \", transactionId);\n        } else {\n             console.warn(\"Attempted to delete dummy transaction. Operation skipped.\");\n        }\n    } catch (e) {\n        console.error(\"Error deleting document: \", e);\n    }\n};\n\n/**\n * NEW: Updates an existing transaction document in Firestore.\n */\nconst updateTransaction = async (db, userId, transactionId, updatedData) => {\n    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n    if (!db || !userId) {\n        console.error(\"Database or User ID not available for updating transaction.\");\n        return;\n    }\n    if (!transactionId || transactionId.startsWith('d')) {\n        console.warn(\"Invalid or dummy transaction ID provided for update. Operation skipped.\");\n        return;\n    }\n    try {\n        const docPath = `/artifacts/${appId}/users/${userId}/transactions/${transactionId}`;\n        \n        // Ensure amount is parsed as number\n        const dataToUpdate = {\n            ...updatedData,\n            amount: parseFloat(updatedData.amount),\n        };\n\n        await updateDoc(doc(db, docPath), dataToUpdate);\n        console.log(\"Document successfully updated: \", transactionId);\n        \n    } catch (e) {\n        console.error(\"Error updating document: \", e);\n    }\n};\n\n// --- Sub Components ---\n\nconst TransactionForm = ({ onAdd, transactionType, setTransactionType }) => {\n    const [description, setDescription] = useState('');\n    const [amount, setAmount] = useState('');\n    const [category, setCategory] = useState(CATEGORIES[TransactionType.Expense][0]);\n    const [date, setDate] = useState(new Date().toISOString().split('T')[0]);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        setCategory(CATEGORIES[transactionType][0]);\n    }, [transactionType]);\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        setError(null);\n\n        const parsedAmount = parseFloat(amount);\n\n        if (!description.trim() || parsedAmount <= 0 || isNaN(parsedAmount)) {\n            setError(\"Please enter a valid description and positive amount.\");\n            return;\n        }\n\n        const newTransaction = {\n            description: description.trim(),\n            amount: parsedAmount,\n            type: transactionType,\n            category: category,\n            date: date,\n        };\n\n        onAdd(newTransaction);\n\n        setDescription('');\n        setAmount('');\n        setDate(new Date().toISOString().split('T')[0]);\n    };\n\n    const isExpense = transactionType === TransactionType.Expense;\n    const categories = CATEGORIES[transactionType];\n\n    return (\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {error && <p className=\"text-red-500 text-sm italic\">{error}</p>}\n            \n            <div className=\"flex space-x-4\">\n                <div className=\"flex-1\">\n                    <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700\">Description</label>\n                    <input\n                        id=\"description\"\n                        type=\"text\"\n                        value={description}\n                        onChange={(e) => setDescription(e.target.value)}\n                        placeholder=\"e.g., Dinner at Cafe X\"\n                        className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border\"\n                        required\n                    />\n                </div>\n                <div className=\"flex-1\">\n                    <label htmlFor=\"category\" className=\"block text-sm font-medium text-gray-700\">Category</label>\n                    <select\n                        id=\"category\"\n                        value={category}\n                        onChange={(e) => setCategory(e.target.value)}\n                        className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border bg-white\"\n                    >\n                        {categories.map(cat => (\n                            <option key={cat} value={cat}>{cat}</option>\n                        ))}\n                    </select>\n                </div>\n            </div>\n\n            <div className=\"flex space-x-4\">\n                <div className=\"flex-1\">\n                    <label htmlFor=\"amount\" className=\"block text-sm font-medium text-gray-700\">Amount ($)</label>\n                    <input\n                        id=\"amount\"\n                        type=\"number\"\n                        step=\"0.01\"\n                        value={amount}\n                        onChange={(e) => setAmount(e.target.value)}\n                        placeholder=\"0.00\"\n                        className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border\"\n                        required\n                    />\n                </div>\n                <div className=\"flex-1\">\n                    <label htmlFor=\"date\" className=\"block text-sm font-medium text-gray-700\">Date</label>\n                    <input\n                        id=\"date\"\n                        type=\"date\"\n                        value={date}\n                        onChange={(e) => setDate(e.target.value)}\n                        className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border\"\n                        required\n                    />\n                </div>\n            </div>\n\n            <button\n                type=\"submit\"\n                className={`w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white transition duration-200 ease-in-out ${isExpense ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'}`}\n                disabled={!onAdd}\n            >\n                <Icon name=\"plus\" className=\"w-5 h-5 mr-2\" />\n                Record {transactionType}\n            </button>\n        </form>\n    );\n};\n\n/**\n * NEW Component: Form dedicated to editing existing transactions.\n */\nconst EditTransactionForm = ({ transaction, onSave, onCancel, isUpdating }) => {\n    // Initialize state with current transaction data\n    const [description, setDescription] = useState(transaction.description || '');\n    const [amount, setAmount] = useState(transaction.amount.toString());\n    const [category, setCategory] = useState(transaction.category || CATEGORIES[transaction.type][0]);\n    const [date, setDate] = useState(transaction.date || new Date().toISOString().split('T')[0]);\n    const [error, setError] = useState(null);\n\n    const isExpense = transaction.type === TransactionType.Expense;\n    const categories = CATEGORIES[transaction.type];\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        setError(null);\n\n        const parsedAmount = parseFloat(amount);\n\n        if (!description.trim() || parsedAmount <= 0 || isNaN(parsedAmount)) {\n            setError(\"Please enter a valid description and positive amount.\");\n            return;\n        }\n\n        const updatedTransaction = {\n            description: description.trim(),\n            amount: parsedAmount, // Firestore will handle parsing this\n            type: transaction.type,\n            category: category,\n            date: date,\n        };\n\n        onSave(transaction.id, updatedTransaction);\n    };\n\n    return (\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {error && <p className=\"text-red-500 text-sm italic\">{error}</p>}\n            \n            <div className=\"flex space-x-4\">\n                <div className=\"flex-1\">\n                    <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700\">Description</label>\n                    <input\n                        id=\"description\"\n                        type=\"text\"\n                        value={description}\n                        onChange={(e) => setDescription(e.target.value)}\n                        placeholder=\"e.g., Dinner at Cafe X\"\n                        className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border\"\n                        required\n                    />\n                </div>\n                <div className=\"flex-1\">\n                    <label htmlFor=\"category\" className=\"block text-sm font-medium text-gray-700\">Category</label>\n                    <select\n                        id=\"category\"\n                        value={category}\n                        onChange={(e) => setCategory(e.target.value)}\n                        className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border bg-white\"\n                    >\n                        {categories.map(cat => (\n                            <option key={cat} value={cat}>{cat}</option>\n                        ))}\n                    </select>\n                </div>\n            </div>\n\n            <div className=\"flex space-x-4\">\n                <div className=\"flex-1\">\n                    <label htmlFor=\"amount\" className=\"block text-sm font-medium text-gray-700\">Amount ($)</label>\n                    <input\n                        id=\"amount\"\n                        type=\"number\"\n                        step=\"0.01\"\n                        value={amount}\n                        onChange={(e) => setAmount(e.target.value)}\n                        placeholder=\"0.00\"\n                        className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border\"\n                        required\n                    />\n                </div>\n                <div className=\"flex-1\">\n                    <label htmlFor=\"date\" className=\"block text-sm font-medium text-gray-700\">Date</label>\n                    <input\n                        id=\"date\"\n                        type=\"date\"\n                        value={date}\n                        onChange={(e) => setDate(e.target.value)}\n                        className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border\"\n                        required\n                    />\n                </div>\n            </div>\n\n            <div className=\"pt-4 flex justify-end space-x-3\">\n                <button\n                    type=\"button\"\n                    onClick={onCancel}\n                    className=\"py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-100 transition\"\n                    disabled={isUpdating}\n                >\n                    Cancel\n                </button>\n                <button\n                    type=\"submit\"\n                    className={`py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white transition duration-200 ease-in-out ${isUpdating ? 'bg-indigo-400' : 'bg-indigo-600 hover:bg-indigo-700'}`}\n                    disabled={isUpdating}\n                >\n                    {isUpdating ? 'Saving...' : 'Save Changes'}\n                </button>\n            </div>\n        </form>\n    );\n};\n\nconst TransactionListRow = ({ transaction, onDelete, isDeleting, setDeletionTarget, onEdit }) => { // Added onEdit\n    const isDummy = transaction.id.startsWith('d');\n    if (!transaction) return null;\n\n    const isExpense = transaction.type === TransactionType.Expense;\n    const amountColor = isExpense ? 'text-red-600' : 'text-green-600';\n    const sign = isExpense ? '-' : '+';\n    const formattedAmount = `${sign}$${Math.abs(transaction.amount).toFixed(2)}`;\n\n    const handleDeleteClick = () => {\n        if (!isDummy) {\n            setDeletionTarget({\n                id: transaction.id,\n                description: transaction.description,\n            });\n        }\n    };\n    \n    const handleEditClick = () => { // NEW Edit Handler\n        if (!isDummy) {\n            onEdit(transaction);\n        }\n    };\n\n    return (\n        <div className=\"flex items-center justify-between p-3 border-b border-gray-100 last:border-b-0 hover:bg-gray-50 transition duration-150 ease-in-out\">\n            <div className=\"flex flex-col flex-grow truncate\">\n                <span className=\"font-semibold text-gray-800 truncate\">\n                    {transaction.description || 'No Description'}\n                    {isDummy && <span className=\"ml-2 text-xs font-normal text-indigo-400\">(Demo)</span>}\n                </span>\n                <span className=\"text-sm text-gray-500\">{transaction.category} &bull; {transaction.date}</span>\n            </div>\n            <div className={`font-mono font-bold text-lg ${amountColor} flex-shrink-0 ml-4`}>\n                {formattedAmount}\n            </div>\n            \n            {/* NEW: Edit Button */}\n            <button\n                onClick={handleEditClick}\n                className={`ml-3 p-1 rounded-full text-gray-400 hover:text-indigo-500 hover:bg-indigo-50 transition duration-150 flex-shrink-0 ${isDummy ? 'opacity-50 cursor-not-allowed' : ''}`}\n                aria-label=\"Edit transaction\"\n                disabled={isDummy}\n            >\n                <Icon name=\"edit\" className=\"w-4 h-4\" />\n            </button>\n            \n            <button\n                onClick={handleDeleteClick}\n                className={`ml-3 p-1 rounded-full text-gray-400 hover:text-red-500 hover:bg-red-50 transition duration-150 flex-shrink-0 ${isDummy ? 'opacity-50 cursor-not-allowed' : ''} ${isDeleting ? 'animate-pulse' : ''}`}\n                aria-label=\"Delete transaction\"\n                disabled={isDummy || isDeleting}\n            >\n                <Icon name=\"x\" className=\"w-4 h-4\" />\n            </button>\n        </div>\n    );\n};\n\nconst TransactionTable = ({ transactions, title, onDelete, isDeleting, setDeletionTarget, hideHeader = false, onEdit, setEditingTransaction }) => { // Added onEdit/setEditingTransaction\n    if (transactions.length === 0) {\n        return (\n            <div className=\"text-center py-10 text-gray-500 bg-white rounded-xl shadow\">\n                <Icon name=\"transactions\" className=\"w-10 h-10 mx-auto mb-2\" />\n                <p className=\"font-semibold\">No transactions found.</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bg-white rounded-xl shadow overflow-hidden\">\n            {!hideHeader && (\n                <div className=\"p-4 border-b text-lg font-semibold text-gray-800 bg-gray-50\">\n                    {title} ({transactions.length})\n                </div>\n            )}\n            <div className=\"max-h-96 overflow-y-auto\">\n                {transactions.map(t => (\n                    <TransactionListRow\n                        key={t.id}\n                        transaction={t}\n                        onDelete={onDelete}\n                        isDeleting={isDeleting}\n                        setDeletionTarget={setDeletionTarget}\n                        onEdit={setEditingTransaction} // Pass modal setter as onEdit handler\n                    />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst SummaryCard = ({ title, value, icon, colorClass }) => {\n    return (\n        <div className=\"bg-white p-5 rounded-xl shadow-md border-b-4 border-gray-100 transition duration-300 hover:shadow-lg\">\n            <div className=\"flex items-center justify-between\">\n                <p className=\"text-sm font-medium text-gray-500\">{title}</p>\n                <div className={`p-2 rounded-full ${colorClass} bg-opacity-10`}>\n                    <Icon name={icon} className={`w-6 h-6 ${colorClass}`} />\n                </div>\n            </div>\n            <p className={`mt-1 text-3xl font-bold ${colorClass}`}>\n                ${value.toFixed(2)}\n            </p>\n        </div>\n    );\n};\n\n\n// --- Page Components ---\n\nconst Sidebar = ({ currentPage, setCurrentPage, userId }) => {\n    const navItems = [\n        { name: PAGES.DASHBOARD, icon: 'dashboard' },\n        { name: PAGES.INCOME, icon: 'income' },\n        { name: PAGES.EXPENSE, icon: 'expense' },\n        { name: PAGES.TRANSACTIONS, icon: 'transactions' },\n    ];\n\n    return (\n        <div className=\"h-screen w-64 bg-white shadow-xl fixed lg:static flex flex-col p-4\">\n            {/* Header / Logo */}\n            <div className=\"text-2xl font-extrabold text-indigo-700 mb-8 p-2\">\n                Expense Tracker\n            </div>\n\n            {/* Profile (Mimics the image) */}\n            <div className=\"flex items-center mb-10 p-2\">\n                <img src=\"https://placehold.co/40x40/5b21b6/ffffff?text=U\" alt=\"User Avatar\" className=\"rounded-full mr-3\" onError={(e) => { e.target.onerror = null; e.target.src = \"https://placehold.co/40x40/5b21b6/ffffff?text=U\"; }} />\n                <div>\n                    <div className=\"font-semibold text-gray-800\">Mike William</div>\n                    <div className=\"text-xs text-gray-500 truncate\" title={userId}>\n                        ID: {userId ? userId.substring(0, 8) + '...' : 'Loading'}\n                    </div>\n                </div>\n            </div>\n\n            {/* Navigation */}\n            <nav className=\"flex-grow space-y-2\">\n                {navItems.map(item => (\n                    <button\n                        key={item.name}\n                        onClick={() => setCurrentPage(item.name)}\n                        className={`flex items-center w-full p-3 rounded-xl font-semibold transition duration-200 ${\n                            currentPage === item.name\n                                ? 'bg-indigo-500 text-white shadow-lg'\n                                : 'text-gray-600 hover:bg-gray-100 hover:text-indigo-600'\n                        }`}\n                    >\n                        <Icon name={item.icon} className=\"w-5 h-5 mr-3\" />\n                        {item.name}\n                    </button>\n                ))}\n            </nav>\n\n            {/* Logout */}\n            <button className=\"flex items-center w-full p-3 mt-4 rounded-xl text-red-500 hover:bg-red-50 font-semibold transition duration-200\">\n                <Icon name=\"logout\" className=\"w-5 h-5 mr-3\" />\n                Logout\n            </button>\n        </div>\n    );\n};\n\nconst DashboardContent = ({ transactions, loading }) => {\n    const { incomeTotal, expenseTotal, netBalance } = useMemo(() => {\n        const income = transactions.filter(t => t.type === TransactionType.Income).reduce((sum, t) => sum + t.amount, 0);\n        const expense = transactions.filter(t => t.type === TransactionType.Expense).reduce((sum, t) => sum + t.amount, 0);\n        const balance = income - expense;\n\n        return { incomeTotal: income, expenseTotal: expense, netBalance: balance };\n    }, [transactions]);\n\n    const recentTransactions = transactions.slice(0, 5); // Show only the 5 most recent\n\n    return (\n        <div className=\"space-y-6\">\n            <h1 className=\"text-3xl font-bold text-gray-800\">Dashboard Overview</h1>\n            <p className=\"text-gray-500\">Quick financial snapshot and recent activity.</p>\n\n            {/* Summary Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <SummaryCard title=\"Net Balance\" value={netBalance} icon=\"money\" colorClass={netBalance >= 0 ? 'text-green-600' : 'text-red-600'} />\n                <SummaryCard title=\"Total Income\" value={incomeTotal} icon=\"income\" colorClass=\"text-indigo-600\" />\n                <SummaryCard title=\"Total Expense\" value={expenseTotal} icon=\"expense\" colorClass=\"text-red-600\" />\n            </div>\n\n            {/* Recent Transactions & Placeholder Charts */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                 {/* Placeholder for Mini-Chart 1 */}\n                <div className=\"lg:col-span-2\">\n                    <BarChartOverview\n                        data={DUMMY_CHART_DATA.slice(0, 6)}\n                        type={TransactionType.Income}\n                        title=\"Income Trend (6 Months)\"\n                        subtitle=\"Income overview for the last half-year.\"\n                    />\n                </div>\n                 {/* Recent Transactions */}\n                <div className=\"lg:col-span-1\">\n                    <TransactionTable\n                        transactions={recentTransactions}\n                        title=\"Recent Transactions\"\n                        hideHeader={false}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst IncomePage = ({ transactions, onAdd }) => {\n    const [isFormOpen, setIsFormOpen] = useState(false);\n    const incomeTransactions = transactions.filter(t => t.type === TransactionType.Income);\n\n    const handleAdd = (data) => {\n        onAdd(data);\n        setIsFormOpen(false); // Close modal after successful add\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n                <h1 className=\"text-3xl font-bold text-gray-800\">Income Overview</h1>\n                <button\n                    onClick={() => {\n                        setIsFormOpen(true);\n                    }}\n                    className=\"flex items-center py-2 px-4 rounded-lg bg-indigo-600 text-white font-semibold shadow-md hover:bg-indigo-700 transition\"\n                >\n                    <Icon name=\"plus\" className=\"w-5 h-5 mr-2\" />\n                    Add Income\n                </button>\n            </div>\n            <p className=\"text-gray-500\">Track your earnings over time and analyze your Income trends.</p>\n\n            {/* Chart/Flowchart Area (Mimicking the image) */}\n            <BarChartOverview\n                data={DUMMY_CHART_DATA}\n                type={TransactionType.Income}\n                title=\"Income Flowchart (12 Months)\"\n                subtitle=\"Monthly income totals for the past year.\"\n            />\n\n            {/* Income Sources (List) */}\n            <h2 className=\"text-xl font-bold text-gray-800 pt-4\">Income Sources</h2>\n            <TransactionTable\n                transactions={incomeTransactions}\n                title=\"Detailed Income List\"\n                hideHeader={true}\n            />\n\n            {/* Income Form Modal */}\n            <CustomModal\n                isOpen={isFormOpen}\n                title=\"Record New Income\"\n                message={<TransactionForm onAdd={handleAdd} transactionType={TransactionType.Income} setTransactionType={() => {}} />}\n                onConfirm={() => setIsFormOpen(false)} // This button is hidden by form's submit button\n                onCancel={() => setIsFormOpen(false)}\n                isConfirm={false} // Use the form's submit button instead of a modal confirm button\n            />\n        </div>\n    );\n};\n\nconst ExpensePage = ({ transactions, onAdd }) => {\n    const [isFormOpen, setIsFormOpen] = useState(false);\n    const expenseTransactions = transactions.filter(t => t.type === TransactionType.Expense);\n\n    const handleAdd = (data) => {\n        onAdd(data);\n        setIsFormOpen(false);\n    };\n\n    return (\n        <div className=\"space-y-6\">\n             <div className=\"flex justify-between items-center\">\n                <h1 className=\"text-3xl font-bold text-gray-800\">Expense Overview</h1>\n                 <button\n                    onClick={() => {\n                        setIsFormOpen(true);\n                    }}\n                    className=\"flex items-center py-2 px-4 rounded-lg bg-red-600 text-white font-semibold shadow-md hover:bg-red-700 transition\"\n                >\n                    <Icon name=\"plus\" className=\"w-5 h-5 mr-2\" />\n                    Add Expense\n                </button>\n            </div>\n            <p className=\"text-gray-500\">Analyze where your money is going and track your spending habits.</p>\n\n            {/* Chart/Flowchart Area */}\n            <BarChartOverview\n                data={DUMMY_CHART_DATA}\n                type={TransactionType.Expense}\n                title=\"Expense Flowchart (12 Months)\"\n                subtitle=\"Monthly expense totals for the past year.\"\n            />\n\n            {/* Expense Categories (List) */}\n            <h2 className=\"text-xl font-bold text-gray-800 pt-4\">Recent Expenses</h2>\n            <TransactionTable\n                transactions={expenseTransactions}\n                title=\"Detailed Expense List\"\n                hideHeader={true}\n            />\n\n            {/* Expense Form Modal */}\n             <CustomModal\n                isOpen={isFormOpen}\n                title=\"Record New Expense\"\n                message={<TransactionForm onAdd={handleAdd} transactionType={TransactionType.Expense} setTransactionType={() => {}} />}\n                onConfirm={() => setIsFormOpen(false)}\n                onCancel={() => setIsFormOpen(false)}\n                isConfirm={false}\n            />\n        </div>\n    );\n};\n\nconst AllTransactionsPage = ({ transactions, onDelete, isDeleting, setDeletionTarget, setEditingTransaction }) => { // Added setEditingTransaction\n    const [filterMonth, setFilterMonth] = useState(''); // YYYY-MM\n    const [filterType, setFilterType] = useState('All'); // Income, Expense, All\n    const [filterCategory, setFilterCategory] = useState('All'); // Category name or All\n\n    // 1. Filtering Logic\n    const filteredTransactions = useMemo(() => {\n        return transactions.filter(t => {\n            // Filter by Type (Income/Expense)\n            if (filterType !== 'All' && t.type !== filterType) {\n                return false;\n            }\n\n            // Filter by Category\n            if (filterCategory !== 'All' && t.category !== filterCategory) {\n                return false;\n            }\n\n            // Filter by Month (YYYY-MM)\n            if (filterMonth && t.date.substring(0, 7) !== filterMonth) {\n                return false;\n            }\n\n            return true;\n        });\n    }, [transactions, filterMonth, filterType, filterCategory]);\n\n    // 2. Dynamic Chart Data Generation (Based on Search/Filter)\n    const filteredChartData = useMemo(() => {\n        if (!filteredTransactions.length) return [];\n        \n        // Group filtered transactions by category and calculate total amount\n        const categoryTotals = filteredTransactions.reduce((acc, t) => {\n            const amount = t.type === TransactionType.Expense ? t.amount : -t.amount; // Use negative for income if mixed, or just absolute for category spend\n            acc[t.category] = (acc[t.category] || 0) + Math.abs(amount);\n            return acc;\n        }, {});\n\n        // Convert to a chart-friendly format (mimicking BarChartOverview data structure)\n        return Object.keys(categoryTotals).map(category => ({\n            label: category,\n            [TransactionType.Expense.toLowerCase()]: categoryTotals[category], // Assume Expense is the primary focus for search-based grouping\n            [TransactionType.Income.toLowerCase()]: categoryTotals[category],\n        }));\n\n    }, [filteredTransactions]);\n    \n    // Determine the type for the dynamic chart visualization (If only one type is filtered, use that color)\n    const chartType = filterType === TransactionType.Income ? TransactionType.Income : TransactionType.Expense;\n    \n    // Get unique months and categories for dropdowns\n    const availableMonths = useMemo(() => {\n        const months = new Set();\n        transactions.forEach(t => months.add(t.date.substring(0, 7)));\n        return ['All', ...Array.from(months).sort().reverse()];\n    }, [transactions]);\n    \n    const availableCategories = useMemo(() => {\n        const cats = new Set();\n        if (filterType === 'All') {\n            Object.values(CATEGORIES).flat().forEach(cat => cats.add(cat));\n        } else {\n            CATEGORIES[filterType].forEach(cat => cats.add(cat));\n        }\n        return ['All', ...Array.from(cats).sort()];\n    }, [filterType]);\n    \n    // Use a simplified version of the BarChartOverview for this dynamic display\n    const CategoryBarChart = ({ data }) => {\n        if (!data.length) return <div className=\"text-center py-10 text-gray-500\">No data for chart.</div>;\n\n        const chartKey = chartType.toLowerCase();\n        const color = chartType === TransactionType.Income ? 'bg-indigo-500' : 'bg-red-500';\n        const maxVal = Math.max(...data.map(d => d[chartKey]));\n        \n        return (\n             <div className=\"space-y-4 pt-4\">\n                <h3 className=\"text-lg font-semibold text-gray-700\">Category Breakdown Chart</h3>\n                <div className=\"bg-white p-4 rounded-lg shadow space-y-3\">\n                    {data.sort((a,b) => b[chartKey] - a[chartKey]).map((item, index) => {\n                        const width = maxVal > 0 ? (item[chartKey] / maxVal) * 100 : 0;\n                        return (\n                            <div key={index} className=\"flex items-center space-x-2\">\n                                <span className=\"text-sm font-medium w-24 flex-shrink-0\">{item.label}:</span>\n                                <div className=\"flex-1 bg-gray-100 rounded-full h-4 relative\">\n                                    <div\n                                        className={`h-4 rounded-full ${color} transition-all duration-700`}\n                                        style={{ width: `${width}%` }}\n                                    ></div>\n                                </div>\n                                <span className=\"text-sm font-semibold w-20 text-right flex-shrink-0\">${item[chartKey].toFixed(2)}</span>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <h1 className=\"text-3xl font-bold text-gray-800\">All Transactions</h1>\n            <p className=\"text-gray-500\">View, search, and filter all your recorded financial movements.</p>\n\n            {/* Search/Filter Panel */}\n            <div className=\"bg-white p-6 rounded-xl shadow-lg border-2 border-indigo-100 space-y-4\">\n                <h2 className=\"text-xl font-bold text-indigo-800\">Search Transactions</h2>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                    {/* Month Filter */}\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Month</label>\n                        <select value={filterMonth} onChange={(e) => setFilterMonth(e.target.value)}\n                            className=\"mt-1 block w-full rounded-md border-gray-300 p-2 border bg-white\"\n                        >\n                            {availableMonths.map(month => (\n                                <option key={month} value={month}>{month === 'All' ? 'All Months' : month}</option>\n                            ))}\n                        </select>\n                    </div>\n\n                    {/* Type Filter */}\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Type</label>\n                        <select value={filterType} onChange={(e) => {setFilterType(e.target.value); setFilterCategory('All');}}\n                            className=\"mt-1 block w-full rounded-md border-gray-300 p-2 border bg-white\"\n                        >\n                            <option value=\"All\">All Types</option>\n                            <option value={TransactionType.Income}>Income</option>\n                            <option value={TransactionType.Expense}>Expense</option>\n                        </select>\n                    </div>\n\n                    {/* Category Filter */}\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Category</label>\n                        <select value={filterCategory} onChange={(e) => setFilterCategory(e.target.value)}\n                            className=\"mt-1 block w-full rounded-md border-gray-300 p-2 border bg-white\"\n                        >\n                             {availableCategories.map(cat => (\n                                <option key={cat} value={cat}>{cat === 'All' ? 'All Categories' : cat}</option>\n                            ))}\n                        </select>\n                    </div>\n                     {/* Search Button (Placeholder for visual flair) */}\n                    <div className=\"flex items-end\">\n                        <button className=\"w-full flex justify-center items-center py-2 px-4 rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-500 hover:bg-indigo-600 transition\">\n                             <Icon name=\"search\" className=\"w-5 h-5 mr-2\" />\n                             Apply Filters\n                        </button>\n                    </div>\n                </div>\n            </div>\n            \n            {/* Dynamic Chart based on search */}\n            {filteredTransactions.length > 0 && (\n                <CategoryBarChart data={filteredChartData} />\n            )}\n\n            {/* Transaction List */}\n            <TransactionTable\n                transactions={filteredTransactions}\n                title=\"Search Results\"\n                onDelete={onDelete}\n                isDeleting={isDeleting}\n                setDeletionTarget={setDeletionTarget}\n                setEditingTransaction={setEditingTransaction} // Pass through to table\n            />\n        </div>\n    );\n};\n\n\n// --- Main Application Layout ---\n\nconst AppLayout = ({ transactions, onAdd, onDelete, userId, loading, isDeleting, setDeletionTarget, setEditingTransaction }) => { // Added setEditingTransaction\n    const [currentPage, setCurrentPage] = useState(PAGES.DASHBOARD);\n\n    const renderPage = () => {\n        if (loading) {\n             return (\n                 <div className=\"text-center py-20 text-indigo-500\">\n                    <svg className=\"animate-spin h-10 w-10 text-indigo-500 mx-auto\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    <p className=\"mt-4 text-lg font-semibold\">Loading financial data...</p>\n                </div>\n             );\n        }\n\n        switch (currentPage) {\n            case PAGES.DASHBOARD:\n                return <DashboardContent transactions={transactions} loading={loading} />;\n            case PAGES.INCOME:\n                return <IncomePage transactions={transactions} onAdd={onAdd} />;\n            case PAGES.EXPENSE:\n                return <ExpensePage transactions={transactions} onAdd={onAdd} />;\n            case PAGES.TRANSACTIONS:\n                return <AllTransactionsPage\n                    transactions={transactions}\n                    onDelete={onDelete}\n                    isDeleting={isDeleting}\n                    setDeletionTarget={setDeletionTarget}\n                    setEditingTransaction={setEditingTransaction} // Pass through to AllTransactionsPage\n                />;\n            default:\n                return <DashboardContent transactions={transactions} loading={loading} />;\n        }\n    };\n\n    return (\n        <div className=\"flex min-h-screen bg-gray-50 font-sans\">\n            {/* Sidebar */}\n            <div className=\"hidden lg:block\">\n                 <Sidebar currentPage={currentPage} setCurrentPage={setCurrentPage} userId={userId} />\n            </div>\n\n            {/* Main Content Area */}\n            <div className=\"flex-1 p-4 sm:p-8 lg:ml-64 lg:p-10\">\n                {/* Mobile Header/Menu (Hidden on large screens) */}\n                <div className=\"lg:hidden flex justify-between items-center mb-6 p-4 bg-white rounded-xl shadow-md\">\n                    <h1 className=\"text-xl font-bold text-indigo-700\">Tracker</h1>\n                    <select\n                        value={currentPage}\n                        onChange={(e) => setCurrentPage(e.target.value)}\n                        className=\"p-2 border rounded-lg bg-white\"\n                    >\n                        {Object.values(PAGES).map(page => (\n                            <option key={page} value={page}>{page}</option>\n                        ))}\n                    </select>\n                </div>\n\n                {renderPage()}\n            </div>\n        </div>\n    );\n};\n\nconst App = () => {\n    // Firebase Hooks\n    const { db, auth, userId, isAuthReady } = useFirebase();\n    const { transactions, loading, error } = useTransactions(db, userId, isAuthReady);\n    \n    // Deletion State\n    const [isDeleting, setIsDeleting] = useState(false);\n    const [deletionTarget, setDeletionTarget] = useState(null); // { id, description }\n    \n    // NEW: Editing State\n    const [editingTransaction, setEditingTransaction] = useState(null); // {id, description, amount, etc.}\n    const [isUpdating, setIsUpdating] = useState(false);\n\n    // Handler to add a transaction\n    const handleAddTransaction = useCallback((data) => {\n        addTransaction(db, userId, data);\n    }, [db, userId]);\n    \n    // NEW: Handler to update a transaction\n    const handleUpdateTransaction = useCallback(async (transactionId, data) => {\n        setIsUpdating(true);\n        // We close the modal instantly as updates are near-instantaneous with Firestore\n        setEditingTransaction(null); \n        try {\n            await updateTransaction(db, userId, transactionId, data);\n        } catch (e) {\n            console.error(\"Update failed:\", e);\n        } finally {\n            setIsUpdating(false);\n        }\n    }, [db, userId]);\n\n    // Handler for deleting a transaction (triggered by modal confirm)\n    const handleConfirmDelete = async () => {\n        if (deletionTarget && !isDeleting) {\n            setIsDeleting(true);\n            try {\n                await deleteTransaction(db, userId, deletionTarget.id);\n            } catch (e) {\n                console.error(\"Deletion failed:\", e);\n            } finally {\n                setIsDeleting(false);\n                setDeletionTarget(null);\n            }\n        }\n    };\n\n    // Main App Layout\n    return (\n        <div className=\"min-h-screen bg-gray-50 font-sans\">\n            {error && (\n                <div className=\"fixed top-4 right-4 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-xl\" role=\"alert\">\n                    <strong className=\"font-bold\">Database Error: </strong>\n                    <span className=\"block sm:inline\">{error}</span>\n                </div>\n            )}\n            \n            <AppLayout\n                transactions={transactions}\n                onAdd={handleAddTransaction}\n                onDelete={handleConfirmDelete}\n                userId={userId}\n                loading={loading}\n                isDeleting={isDeleting}\n                setDeletionTarget={setDeletionTarget}\n                setEditingTransaction={setEditingTransaction} // Pass setter to AppLayout\n            />\n            \n            {/* Deletion Confirmation Modal (EXISTING) */}\n            <CustomModal\n                isOpen={!!deletionTarget}\n                title=\"Confirm Deletion\"\n                message={`Are you sure you want to permanently delete the transaction: \"${deletionTarget?.description}\"? This action cannot be undone.`}\n                onConfirm={handleConfirmDelete}\n                onCancel={() => setDeletionTarget(null)}\n                isConfirm={true}\n            />\n            \n            {/* NEW: Edit Transaction Modal */}\n            {editingTransaction && (\n                <CustomModal\n                    isOpen={!!editingTransaction}\n                    title={`Edit ${editingTransaction.type} Transaction`}\n                    message={\n                        <EditTransactionForm\n                            transaction={editingTransaction}\n                            onSave={handleUpdateTransaction}\n                            onCancel={() => setEditingTransaction(null)}\n                            isUpdating={isUpdating}\n                        />\n                    }\n                    onConfirm={() => {}} \n                    onCancel={() => setEditingTransaction(null)}\n                    isConfirm={false} // Custom form handles buttons\n                />\n            )}\n        </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}